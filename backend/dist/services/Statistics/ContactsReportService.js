'use strict';const x=b,z=b;(function(c,d){const v=b,w=b,e=c();while(!![]){try{const f=-parseInt(v(0x1a1))/0x1+parseInt(v(0x1a2))/0x2*(-parseInt(v(0x18e))/0x3)+-parseInt(w(0x1aa))/0x4*(parseInt(w(0x192))/0x5)+-parseInt(v(0x19f))/0x6+parseInt(w(0x19e))/0x7+parseInt(w(0x197))/0x8*(parseInt(w(0x18f))/0x9)+-parseInt(v(0x1ad))/0xa*(-parseInt(w(0x1ab))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xc93ad));var __importDefault=this&&this[x(0x19c)]||function(c){const y=x;return c&&c[y(0x194)]?c:{'default':c};};function a(){const E=['trim','1208673oNEiAT','693478tBbFrn','startOfDay','default','parseISO','pQbhP','BpjbO','Contact.name','ddds','203076McgrqQ','4584778BdenXg','push','30tFfcdK','date-fns','YOUyX','endOfDay','BPnTq','toLowerCase','findAll','where','../../models/Tag','map','../../models/Contact','forEach','../../models/ContactWallet','Sequelize','find','name','between','LIKE','3uONBIv','6313878wYtluH','number','concat','45eiMPmj','EZmpq','__esModule','admin','LOWER','8EgXPlH','col','like','ASC','sequelize','__importDefault','estado','8832159UheHgq','2262618fgxknv'];a=function(){return E;};return a();}Object['defineProperty'](exports,z(0x194),{'value':!![]});const date_fns_1=require(x(0x1ae)),sequelize_1=require(x(0x19b)),Contact_1=__importDefault(require(z(0x186))),Tag_1=__importDefault(require(x(0x184))),ContactWallet_1=__importDefault(require(z(0x188))),dddsPorEstado=[{'estado':'AC','ddds':['68']},{'estado':'AL','ddds':['82']},{'estado':'AM','ddds':['92','97']},{'estado':'AP','ddds':['96']},{'estado':'BA','ddds':['71','73','74','75','77']},{'estado':'CE','ddds':['85','88']},{'estado':'DF','ddds':['61']},{'estado':'ES','ddds':['27','28']},{'estado':'GO','ddds':['62','64']},{'estado':'MA','ddds':['98','99']},{'estado':'MG','ddds':['31','32','33','34','35','37','38']},{'estado':'MS','ddds':['67']},{'estado':'MT','ddds':['65','66']},{'estado':'PA','ddds':['91','93','94']},{'estado':'PB','ddds':['83']},{'estado':'PE','ddds':['81','87']},{'estado':'PI','ddds':['86','89']},{'estado':'PR','ddds':['41','42','43','44','45','46']},{'estado':'RJ','ddds':['21','22','24']},{'estado':'RN','ddds':['84']},{'estado':'RO','ddds':['69']},{'estado':'RR','ddds':['95']},{'estado':'RS','ddds':['51','53','54','55']},{'estado':'SC','ddds':['47','48','49']},{'estado':'SE','ddds':['79']},{'estado':'SP','ddds':['11','12','13','14','15','16','17','18','19']},{'estado':'TO','ddds':['63']}],ListContactsService=async({startDate:c,endDate:d,tenantId:e,tags:f,wallets:g,ddds:h,userId:i,profile:j,searchParam:k})=>{const A=z,B=x;let l=[],m={'tenantId':e,'isGroup':![]};k&&(m={...m,[sequelize_1['Op']['or']]:[{'name':sequelize_1['Sequelize'][A(0x183)](sequelize_1[B(0x189)]['fn'](B(0x196),sequelize_1[A(0x189)][A(0x198)](B(0x1a8))),B(0x18d),'%'+k[A(0x1b2)]()[A(0x1a0)]()+'%')},{'number':{[sequelize_1['Op'][B(0x199)]]:'%'+k[B(0x1b2)]()[B(0x1a0)]()+'%'}}]});c&&d&&('EZmpq'!==A(0x193)?l={...m,[n['Op']['or']]:[{'name':o['Sequelize'][B(0x183)](p[B(0x189)]['fn'](A(0x196),q[B(0x189)][B(0x198)]('Contact.name')),'LIKE','%'+r[A(0x1b2)]()[A(0x1a0)]()+'%')},{'number':{[s['Op']['like']]:'%'+t[B(0x1b2)]()[A(0x1a0)]()+'%'}}]}:m={...m,'createdAt':{[sequelize_1['Op']['between']]:[+(0x0,date_fns_1[B(0x1a3)])((0x0,date_fns_1[B(0x1a5)])(c)),+(0x0,date_fns_1[B(0x1b0)])((0x0,date_fns_1[A(0x1a5)])(d))]}});f&&(l=[{'model':Tag_1['default'],'as':'tags','where':{'id':{[sequelize_1['Op']['in']]:f}},'required':!![]}]);if(g)'YOUyX'!==B(0x1af)?l={...m,'createdAt':{[n['Op'][A(0x18c)]]:[+(0x0,o[A(0x1a3)])((0x0,p[A(0x1a5)])(q)),+(0x0,r[A(0x1b0)])((0x0,s['parseISO'])(t))]}}:l['push']({'model':ContactWallet_1['default'],'where':{'walletId':g},'required':!![]});else j!==B(0x195)&&l[A(0x1ac)]({'model':ContactWallet_1[B(0x1a4)],'where':{'walletId':i},'required':!![]});if(h){let q=[];h[A(0x187)](r=>{const C=B,D=A;if(r){if(C(0x1a7)===D(0x1a6))return g&&h[C(0x194)]?i:{'default':j};else{const t=dddsPorEstado[D(0x18a)](u=>u[C(0x19d)]===r)?.[D(0x1a9)];t&&(C(0x1b1)==='BPnTq'?q=q[D(0x191)](t):f['push']({'model':g[C(0x1a4)],'where':{'walletId':h},'required':!![]}));}}}),m={...m,'number':{[sequelize_1['Op']['or']]:q[A(0x185)](r=>({[sequelize_1['Op']['like']]:'55'+r+'%'}))}};}const n=await Contact_1['default'][A(0x1b3)]({'where':m,'attributes':['id',A(0x18b),A(0x190),'email'],'include':l,'order':[['name',A(0x19a)]]});return{'contacts':n};};function b(c,d){const e=a();return b=function(f,g){f=f-0x183;let h=e[f];return h;},b(c,d);}exports[x(0x1a4)]=ListContactsService;