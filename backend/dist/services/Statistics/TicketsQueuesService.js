'use strict';const x=b,z=b;(function(c,d){const v=b,w=b,e=c();while(!![]){try{const f=parseInt(v(0x1ba))/0x1+parseInt(w(0x1b8))/0x2*(-parseInt(v(0x1a7))/0x3)+parseInt(v(0x1a1))/0x4+parseInt(v(0x19b))/0x5+parseInt(v(0x1a9))/0x6+-parseInt(v(0x1a5))/0x7+-parseInt(w(0x19e))/0x8;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xbea70));var __importDefault=this&&this[x(0x1bf)]||function(c){const y=x;return c&&c[y(0x198)]?c:{'default':c};};Object[z(0x1b9)](exports,x(0x198),{'value':!![]});const sequelize_1=require(x(0x1bc)),date_fns_1=require(x(0x1aa)),Ticket_1=__importDefault(require(z(0x1a4))),UsersQueues_1=__importDefault(require('../../models/UsersQueues')),User_1=__importDefault(require(z(0x1bb))),Contact_1=__importDefault(require(x(0x1b6))),Queue_1=__importDefault(require('../../models/Queue')),TicketsQueuesService=async({dateStart:c,dateEnd:d,status:e,userId:f,queuesIds:g,tenantId:h,showAll:i})=>{const A=z,B=x;let j={};const k=[{'model':Contact_1[A(0x1a3)],'as':A(0x1b2),'attributes':['id','name',A(0x19f),'profilePicUrl']},{'association':'whatsapp','attributes':['id',A(0x1a0)]},{'model':User_1[A(0x1a3)],'as':A(0x1ad),'attributes':['id','name','profile']}],l=await Queue_1[B(0x1a3)][B(0x199)]({'where':{'tenantId':h}});if(l){if(B(0x1b3)!=='cxVxe')d=[B(0x1a6),B(0x1b5)];else{const o=await UsersQueues_1['default'][A(0x1be)]({'where':{'userId':f}});let p=o[A(0x1bd)](r=>r[A(0x1a2)]);if(g){if('IPYfs'!==A(0x197))return g&&h[B(0x198)]?i:{'default':j};else{const r=[];g[A(0x1ae)](s=>{const C=A,D=A;if('tPdRB'!==C(0x1b7)){const t=p[D(0x19d)](+s);t&&r[D(0x19a)](+s);}else d={};}),p=r;}}j={...j,'queueId':{[sequelize_1['Op']['in']]:p}};}}i==A(0x1b0)&&(j={});e?B(0x1a8)!==B(0x1a8)?l={...m,'createdAt':{[n['Op'][A(0x1b1)]]:[+(0x0,o[B(0x1ac)])((0x0,p[A(0x1ab)])(q)),+(0x0,r[B(0x1b4)])((0x0,s[B(0x1ab)])(t))]}}:j={...j,'status':e}:e=[A(0x1a6),B(0x1b5)];c&&d&&(A(0x19c)===B(0x19c)?j={...j,'createdAt':{[sequelize_1['Op'][A(0x1b1)]]:[+(0x0,date_fns_1[B(0x1ac)])((0x0,date_fns_1[A(0x1ab)])(c)),+(0x0,date_fns_1[B(0x1b4)])((0x0,date_fns_1[A(0x1ab)])(d))]}}:e[B(0x19a)](+f));const m=await Ticket_1[A(0x1a3)][B(0x1be)]({'where':{...j,'tenantId':h},'include':k,'order':[['updatedAt',B(0x1af)]]});return m;};function a(){const E=['4869OLxDaN','CXRsn','8859852vVBvjc','date-fns','parseISO','startOfDay','user','forEach','DESC','true','between','contact','cxVxe','endOfDay','pending','../../models/Contact','FFfNE','172MbTIeh','defineProperty','290854KQpMaF','../../models/User','sequelize','map','findAll','__importDefault','IPYfs','__esModule','count','push','1657680IoHfye','thvtY','indexOf','17250704bazPSt','number','name','4885860njdzgd','queueId','default','../../models/Ticket','1705683PShcka','open'];a=function(){return E;};return a();}function b(c,d){const e=a();return b=function(f,g){f=f-0x197;let h=e[f];return h;},b(c,d);}exports[x(0x1a3)]=TicketsQueuesService;