'use strict';const t=b,v=b;function b(c,d){const e=a();return b=function(f,g){f=f-0x18c;let h=e[f];return h;},b(c,d);}(function(c,d){const r=b,s=b,e=c();while(!![]){try{const f=parseInt(r(0x19c))/0x1*(-parseInt(s(0x18d))/0x2)+-parseInt(s(0x190))/0x3+parseInt(s(0x193))/0x4*(parseInt(s(0x19b))/0x5)+-parseInt(r(0x192))/0x6+-parseInt(r(0x1a5))/0x7+parseInt(s(0x1a2))/0x8*(-parseInt(s(0x1a0))/0x9)+parseInt(r(0x1a9))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x70a64));var __importDefault=this&&this[t(0x18f)]||function(c){const u=t;return c&&c[u(0x1b5)]?c:{'default':c};};Object[v(0x1b3)](exports,v(0x1b5),{'value':!![]});function a(){const z=['187832KlbIBv','\x27\x20=\x20\x27admin\x27\x20and\x20\x27','__importDefault','570648HeSwwF','\x27\x20=\x20\x27S\x27\x20and\x20((\x22cw\x22.\x22walletId\x22\x20=\x20','4579962BlECjM','175300dLcjXP','../../database','QueryTypes','\x0a\x20\x20\x20\x20order\x20by\x20\x22Contact\x22.\x22name\x22\x20asc\x0a\x20\x20\x20\x20limit\x20',')\x20or\x20(\x22cw\x22.\x22walletId\x22\x20is\x20null)))\x20OR\x20(\x27','default','count','\x27\x20=\x20\x27user\x27\x20and\x20\x27','5ZjEqRZ','1BfVxSx','\x27\x20=\x20\x27N\x27)\x20OR\x20(\x27','\x0a\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20distinct\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22id\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22name\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22number\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22email\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22profilePicUrl\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22pushname\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22telegramId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22messengerId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22instagramPK\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isUser\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isWAContact\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isGroup\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22tenantId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22createdAt\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22updatedAt\x22,\x0a\x20\x20\x20\x20\x20\x20\x22cw\x22.\x22walletId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22u\x22.\x22name\x22\x20as\x20\x22wallet\x22\x0a\x20\x20\x20\x20from\x0a\x20\x20\x20\x20\x20\x20\x22Contacts\x22\x20as\x20\x22Contact\x22\x0a\x20\x20\x20\x20left\x20join\x20\x22ContactWallets\x22\x20cw\x20on\x20cw.\x22contactId\x22\x20=\x20\x22Contact\x22.id\x0a\x20\x20\x20\x20left\x20join\x20\x22Users\x22\x20u\x20on\x20cw.\x22walletId\x22\x20=\x20u.\x22id\x22\x0a\x20\x20\x20\x20where\x20','%\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20or\x20\x22Contact\x22.\x22number\x22\x20like\x20\x27%','18072jWLlyD','toLowerCase','8TfrEyv','SELECT','enabled','2000348CITsAK','\x0a\x20\x20\x20\x20select\x20count(*)\x0a\x20\x20\x20\x20from\x20\x22Contacts\x22\x20as\x20\x22Contact\x22\x0a\x20\x20\x20\x20left\x20join\x20\x22ContactWallets\x22\x20cw\x20on\x20cw.\x22contactId\x22\x20=\x20\x22Contact\x22.id\x0a\x20\x20\x20\x20where\x20','value','find','17528180zVnlWD','%\x27)\x0a\x20\x20\x20\x20and((\x27','\x27\x20=\x20\x27S\x27)OR\x20(\x27','trim','../SettingServices/ListSettingsService','sequelize','key','query','length','\x0a\x20\x20','defineProperty','\x20offset\x20','__esModule','\x0a\x20\x20\x20\x20\x22Contact\x22.\x22tenantId\x22\x20=\x20'];a=function(){return z;};return a();}const sequelize_1=require(v(0x1ae)),database_1=__importDefault(require(v(0x194))),ListSettingsService_1=__importDefault(require(v(0x1ad))),ListContactsService=async({searchParam:searchParam='',pageNumber:pageNumber='1',tenantId:c,profile:d,userId:e})=>{const w=v,y=v,f=0x28,g=f*(+pageNumber-0x1),h=await(0x0,ListSettingsService_1['default'])(c),i=h?.[w(0x1a8)](q=>{const x=w;return q[x(0x1af)]==='userContactWallet';})?.[w(0x1a7)]===w(0x1a4)?'S':'N',j=w(0x18c)+c+'\x0a\x20\x20\x20\x20and\x20(LOWER(\x22Contact\x22.\x22name\x22)\x20like\x20\x27%'+searchParam['toLowerCase']()[w(0x1ac)]()+y(0x19f)+searchParam[y(0x1a1)]()['trim']()+y(0x1aa)+i+w(0x191)+e+y(0x197)+i+y(0x19d)+d+y(0x18e)+i+y(0x1ab)+d+y(0x19a)+i+'\x27\x20=\x20\x27N\x27))\x0a\x20\x20',k=w(0x1a6)+j+'\x0a\x20\x20',l=y(0x19e)+j+y(0x196)+f+w(0x1b4)+g+w(0x1b2),m=await database_1[w(0x198)][w(0x1b0)](l,{'type':sequelize_1['QueryTypes'][w(0x1a3)]}),n=await database_1['default']['query'](k,{'type':sequelize_1[w(0x195)][y(0x1a3)]}),o=n&&n[0x0]?.[y(0x199)]||0x0,p=o>g+m[w(0x1b1)];return{'contacts':m,'count':o,'hasMore':p};};exports[t(0x198)]=ListContactsService;