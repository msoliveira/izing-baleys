'use strict';const t=b,v=b;(function(c,d){const r=b,s=b,e=c();while(!![]){try{const f=parseInt(r(0x1d2))/0x1*(parseInt(r(0x1d7))/0x2)+parseInt(r(0x1ed))/0x3+parseInt(s(0x1d4))/0x4*(parseInt(s(0x1ec))/0x5)+-parseInt(s(0x1ee))/0x6+-parseInt(s(0x1e4))/0x7*(-parseInt(r(0x1cd))/0x8)+-parseInt(r(0x1eb))/0x9*(-parseInt(s(0x1dd))/0xa)+parseInt(r(0x1dc))/0xb*(-parseInt(s(0x1da))/0xc);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x3cd27));function b(c,d){const e=a();return b=function(f,g){f=f-0x1cc;let h=e[f];return h;},b(c,d);}var __importDefault=this&&this[t(0x1e5)]||function(c){const u=t;return c&&c[u(0x1f0)]?c:{'default':c};};Object[t(0x1d8)](exports,v(0x1f0),{'value':!![]});const sequelize_1=require('sequelize'),database_1=__importDefault(require(v(0x1db))),ListSettingsService_1=__importDefault(require(v(0x1cf))),ListContactsService=async({searchParam:searchParam='',pageNumber:pageNumber='1',tenantId:c,profile:d,userId:e})=>{const y=t,z=t,f=0x28,g=f*(+pageNumber-0x1),h=await(0x0,ListSettingsService_1['default'])(c),i=h?.['find'](q=>{const w=b,x=b;return q[w(0x1cc)]===w(0x1d0);})?.[y(0x1de)]===y(0x1ce)?'S':'N',j=z(0x1e2)+c+'\x0a\x20\x20\x20\x20and\x20(LOWER(\x22Contact\x22.\x22name\x22)\x20like\x20\x27%'+searchParam[y(0x1e7)]()[z(0x1df)]()+'%\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20or\x20\x22Contact\x22.\x22number\x22\x20like\x20\x27%'+searchParam[y(0x1e7)]()[z(0x1df)]()+z(0x1e0)+i+y(0x1e3)+e+y(0x1e6)+i+'\x27\x20=\x20\x27N\x27)\x20OR\x20(\x27'+d+'\x27\x20=\x20\x27admin\x27\x20and\x20\x27'+i+'\x27\x20=\x20\x27S\x27)OR\x20(\x27'+d+z(0x1ea)+i+z(0x1d5),k=z(0x1ef)+j+z(0x1e1),l='\x0a\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20distinct\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22id\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22name\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22number\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22email\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22profilePicUrl\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22pushname\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22telegramId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22messengerId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22instagramPK\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isUser\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isWAContact\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isGroup\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22tenantId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22createdAt\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22updatedAt\x22,\x0a\x20\x20\x20\x20\x20\x20\x22cw\x22.\x22walletId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22u\x22.\x22name\x22\x20as\x20\x22wallet\x22\x0a\x20\x20\x20\x20from\x0a\x20\x20\x20\x20\x20\x20\x22Contacts\x22\x20as\x20\x22Contact\x22\x0a\x20\x20\x20\x20left\x20join\x20\x22ContactWallets\x22\x20cw\x20on\x20cw.\x22contactId\x22\x20=\x20\x22Contact\x22.id\x0a\x20\x20\x20\x20left\x20join\x20\x22Users\x22\x20u\x20on\x20cw.\x22walletId\x22\x20=\x20u.\x22id\x22\x0a\x20\x20\x20\x20where\x20'+j+z(0x1e8)+f+'\x20offset\x20'+g+'\x0a\x20\x20',m=await database_1[y(0x1d3)][z(0x1e9)](l,{'type':sequelize_1['QueryTypes'][z(0x1d6)]}),n=await database_1[z(0x1d3)]['query'](k,{'type':sequelize_1[z(0x1d9)][z(0x1d6)]}),o=n&&n[0x0]?.['count']||0x0,p=o>g+m[y(0x1d1)];return{'contacts':m,'count':o,'hasMore':p};};exports[v(0x1d3)]=ListContactsService;function a(){const A=['\x0a\x20\x20','\x0a\x20\x20\x20\x20\x22Contact\x22.\x22tenantId\x22\x20=\x20','\x27\x20=\x20\x27S\x27\x20and\x20((\x22cw\x22.\x22walletId\x22\x20=\x20','2547643zePQhZ','__importDefault',')\x20or\x20(\x22cw\x22.\x22walletId\x22\x20is\x20null)))\x20OR\x20(\x27','toLowerCase','\x0a\x20\x20\x20\x20order\x20by\x20\x22Contact\x22.\x22name\x22\x20asc\x0a\x20\x20\x20\x20limit\x20','query','\x27\x20=\x20\x27user\x27\x20and\x20\x27','433161wdQKjt','85Qsgniw','988944WogIsq','277812QLCPQL','\x0a\x20\x20\x20\x20select\x20count(*)\x0a\x20\x20\x20\x20from\x20\x22Contacts\x22\x20as\x20\x22Contact\x22\x0a\x20\x20\x20\x20left\x20join\x20\x22ContactWallets\x22\x20cw\x20on\x20cw.\x22contactId\x22\x20=\x20\x22Contact\x22.id\x0a\x20\x20\x20\x20where\x20','__esModule','key','8fZDbZI','enabled','../SettingServices/ListSettingsService','userContactWallet','length','176815iojiFk','default','15436UnloIp','\x27\x20=\x20\x27N\x27))\x0a\x20\x20','SELECT','2onHECf','defineProperty','QueryTypes','9419676bCQUFS','../../database','11SlJLLs','30mfVqMP','value','trim','%\x27)\x0a\x20\x20\x20\x20and((\x27'];a=function(){return A;};return a();}