'use strict';const q=b,s=b;(function(c,d){const o=b,p=b,e=c();while(!![]){try{const f=parseInt(o(0xde))/0x1+parseInt(o(0xd5))/0x2+parseInt(o(0xce))/0x3+parseInt(o(0xe4))/0x4*(parseInt(p(0xe5))/0x5)+-parseInt(o(0xdc))/0x6*(-parseInt(o(0xd1))/0x7)+parseInt(p(0xdd))/0x8*(parseInt(o(0xcc))/0x9)+parseInt(p(0xe2))/0xa*(-parseInt(p(0xd4))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x725da));var __importDefault=this&&this[q(0xd9)]||function(c){const r=q;return c&&c[r(0xdf)]?c:{'default':c};};function a(){const w=['wallets','destroy','63efXhUC','extraInfo','../../models/Contact','7205231tAUMJP','486870hFQXhu','default','forEach','push','__importDefault','name','findOne','17112fTHzOe','8HLijob','339940MODdQs','__esModule','../../errors/AppError','../../models/ContactTag','20cetSOh','tags','4jPokDJ','2234365uwhYgD','3711852XvPAJk','email','930420iYZTkO'];a=function(){return w;};return a();}function b(c,d){const e=a();return b=function(f,g){f=f-0xcc;let h=e[f];return h;},b(c,d);}Object['defineProperty'](exports,s(0xdf),{'value':!![]});const AppError_1=__importDefault(require(s(0xe0))),Contact_1=__importDefault(require(q(0xd3))),ContactTag_1=__importDefault(require(s(0xe1))),UpdateContactService=async({tags:c,contactId:d,tenantId:e})=>{const t=q,u=s;await ContactTag_1['default'][t(0xd0)]({'where':{'tenantId':e,'contactId':d}});const f=[];c[u(0xd7)](h=>{const v=u;f[v(0xd8)]({'tagId':!h['id']?h:h['id'],'contactId':d,'tenantId':e});}),await ContactTag_1[u(0xd6)]['bulkCreate'](f);const g=await Contact_1['default'][u(0xdb)]({'where':{'id':d,'tenantId':e},'attributes':['id',t(0xda),'number',u(0xcd),'profilePicUrl'],'include':[t(0xd2),u(0xe3),{'association':u(0xcf),'attributes':['id',t(0xda)]}]});if(!g)throw new AppError_1[(u(0xd6))]('ERR_NO_CONTACT_FOUND',0x194);return g;};exports['default']=UpdateContactService;