'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x194;let h=e[f];return h;},b(c,d);}const m=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x1a4))/0x1*(-parseInt(k(0x1a7))/0x2)+parseInt(l(0x199))/0x3*(parseInt(k(0x19a))/0x4)+-parseInt(l(0x1a6))/0x5+parseInt(k(0x19e))/0x6+-parseInt(l(0x196))/0x7+-parseInt(k(0x194))/0x8*(parseInt(k(0x195))/0x9)+parseInt(k(0x197))/0xa*(parseInt(k(0x1a8))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xc702b));var __importDefault=this&&this[m(0x198)]||function(c){const n=m;return c&&c[n(0x19c)]?c:{'default':c};};Object[m(0x19b)](exports,m(0x19c),{'value':!![]});const Contact_1=__importDefault(require(o(0x1a3))),AppError_1=__importDefault(require(m(0x1a1))),Ticket_1=__importDefault(require(o(0x1a9))),socketEmit_1=__importDefault(require('../../helpers/socketEmit')),DeleteContactService=async({id:c,tenantId:d})=>{const p=o,q=o,e=await Contact_1[p(0x1a2)]['findOne']({'where':{'id':c,'tenantId':d}});if(!e)throw new AppError_1[(p(0x1a2))](q(0x19d),0x194);const f=await Ticket_1[q(0x1a2)][q(0x1a5)]({'where':{'contactId':c}});if(f)throw new AppError_1['default']('ERR_CONTACT_TICKETS_REGISTERED',0x194);await e[q(0x19f)](),(0x0,socketEmit_1[p(0x1a2)])({'tenantId':d,'type':q(0x1a0),'payload':e});};function a(){const r=['40575OqrufU','76iDAHsN','1502303XIInJU','../../models/Ticket','136LHmObu','372429AWownE','5753986ANWJTR','70lQssxK','__importDefault','3QfcmLV','2863576RKAYIx','defineProperty','__esModule','ERR_NO_CONTACT_FOUND','6953628CxxPly','destroy','contact:delete','../../errors/AppError','default','../../models/Contact','12687rDRLch','count'];a=function(){return r;};return a();}exports['default']=DeleteContactService;