'use strict';const m=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x1aa))/0x1+parseInt(l(0x1be))/0x2+parseInt(l(0x1bf))/0x3*(-parseInt(k(0x1b0))/0x4)+parseInt(l(0x1bc))/0x5*(-parseInt(k(0x1a7))/0x6)+parseInt(k(0x1ad))/0x7*(-parseInt(l(0x1ab))/0x8)+parseInt(l(0x1b1))/0x9+parseInt(l(0x1b2))/0xa*(parseInt(k(0x1ac))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xa0642));function a(){const r=['number','isGroup','contact','6rlHRlz','__importDefault','../../errors/AppError','733062SAiTtU','8fIfQPz','11vezOzo','7370930aDeMNk','findOne','../../helpers/GetWbotMessageBaileys','90560hVpRMP','7992648DPlmIO','20085050EWUrJe','../../models/Ticket','update','../../helpers/GetTicketWbotBaileys','__esModule','default','sendMessage','s.whatsapp.net','parse','dataJson','6073315nZXQYJ','defineProperty','763392aHljDE','144HYvJgS','ERR_DELETE_WAPP_MSG','g.us'];a=function(){return r;};return a();}function b(c,d){const e=a();return b=function(f,g){f=f-0x1a7;let h=e[f];return h;},b(c,d);}var __importDefault=this&&this[m(0x1a8)]||function(c){const n=m;return c&&c[n(0x1b6)]?c:{'default':c};};Object[o(0x1bd)](exports,o(0x1b6),{'value':!![]});const AppError_1=__importDefault(require(o(0x1a9))),Message_1=__importDefault(require('../../models/Message')),Ticket_1=__importDefault(require(m(0x1b3))),GetTicketWbotBaileys_1=__importDefault(require(o(0x1b5))),GetWbotMessageBaileys_1=__importDefault(require(o(0x1af))),DeleteWhatsAppMessage=async c=>{const p=o,q=o,d=await Message_1[p(0x1b7)][q(0x1ae)]({'where':{'id':c},'include':[{'model':Ticket_1[p(0x1b7)],'as':'ticket','include':[p(0x1c4)]}]});if(!d)throw new AppError_1['default']('No\x20message\x20found\x20with\x20this\x20ID.');const {ticket:e}=d,f=await(0x0,GetWbotMessageBaileys_1[q(0x1b7)])(e,c);try{const g=await(0x0,GetTicketWbotBaileys_1[q(0x1b7)])(e),h=f,i=JSON[p(0x1ba)](h[p(0x1bb)]);await g[p(0x1b8)](e[p(0x1c4)][q(0x1c2)]+'@'+(e[p(0x1c3)]?p(0x1c1):q(0x1b9)),{'delete':i['key']});}catch(j){console['log'](j);throw new AppError_1[(p(0x1b7))](p(0x1c0));}return await d[p(0x1b4)]({'isDeleted':!![]}),d;};exports['default']=DeleteWhatsAppMessage;