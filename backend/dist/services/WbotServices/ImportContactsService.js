'use strict';const I=b,J=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=parseInt(G(0x127))/0x1*(parseInt(H(0x124))/0x2)+parseInt(G(0x13d))/0x3*(-parseInt(H(0x12f))/0x4)+-parseInt(G(0x145))/0x5*(-parseInt(G(0x139))/0x6)+-parseInt(H(0x116))/0x7*(-parseInt(G(0x12b))/0x8)+parseInt(H(0x132))/0x9*(parseInt(H(0x125))/0xa)+-parseInt(H(0x110))/0xb*(parseInt(H(0x131))/0xc)+parseInt(H(0x11b))/0xd;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x61f2f));var __createBinding=this&&this[I(0x129)]||(Object[I(0x11e)]?function(c,d,e,f){const K=J,L=I;if(f===undefined)f=e;var g=Object[K(0x130)](d,e);(!g||(K(0x140)in g?!d[K(0x112)]:g['writable']||g[L(0x11a)]))&&(g={'enumerable':!![],'get':function(){const M=L,N=L;if(M(0x137)===M(0x13f)){if(e===l)d=n;c[p]=q[r];}else return d[e];}}),Object[K(0x12a)](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this[I(0x10f)]||(Object[I(0x11e)]?function(c,d){const O=I,P=J;Object[O(0x12a)](c,P(0x13b),{'enumerable':!![],'value':d});}:function(c,d){const Q=J;c[Q(0x13b)]=d;}),__importStar=this&&this[I(0x144)]||function(c){const R=J,S=I;if(c&&c['__esModule'])return c;var d={};if(c!=null){for(var e in c)if(e!==R(0x13b)&&Object[S(0x135)][R(0x12e)][R(0x11d)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[I(0x13c)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object['defineProperty'](exports,I(0x112),{'value':!![]});const Sentry=__importStar(require(I(0x146))),wbot_baileys_1=require(J(0x118)),Contact_1=__importDefault(require('../../models/Contact')),logger_1=require(I(0x136)),ShowBaileysService_1=__importDefault(require(J(0x143))),CreateContactService_1=__importDefault(require('../ContactServices/CreateContactService')),lodash_1=require(I(0x138)),Whatsapp_1=__importDefault(require(J(0x119))),AppError_1=__importDefault(require(J(0x133))),ImportContactsService=async(c,d)=>{const T=I,U=J,e=(0x0,wbot_baileys_1[T(0x141)])(d),f=await Whatsapp_1[U(0x13b)][U(0x117)](d);if(f[T(0x122)]!=T(0x128)){if(U(0x12c)!==U(0x12d))throw new AppError_1[(U(0x13b))](T(0x123));else return g&&h['__esModule']?i:{'default':j};}let g;try{if(U(0x11f)!==U(0x11f))return e[f];else{const k=await(0x0,ShowBaileysService_1[U(0x13b)])(e['id']);g=JSON[U(0x147)](JSON[T(0x142)](k[T(0x149)]));}}catch(l){console[U(0x114)](l),Sentry[T(0x134)](l),logger_1[U(0x115)][T(0x11c)](U(0x113)+l);}const h=(0x0,lodash_1[U(0x120)])(g)?JSON[U(0x147)](g):g;(0x0,lodash_1[T(0x111)])(h)&&h[T(0x121)](async({id:m,name:n,notify:o})=>{const V=U,W=U;if(m===V(0x126)||m['includes']('g.us')===V(0x13e))return;const p=m['replace'](/\D/g,''),q=await Contact_1['default'][V(0x13a)]({'where':{'number':p,'tenantId':c}});if(!q)try{await(0x0,CreateContactService_1['default'])({'number':p,'name':n||o,'tenantId':c});}catch(r){Sentry['captureException'](r),console[W(0x114)](r),logger_1[V(0x115)][W(0x148)]('Não\x20foi\x20possível\x20obter\x20os\x20contatos\x20do\x20WhatsApp\x20do\x20telefone.\x20Erro:\x20'+r);}});};function a(){const X=['contacts','__setModuleDefault','5381640JguHwb','isArray','__esModule','Não\x20foi\x20possível\x20obter\x20os\x20contatos\x20do\x20WhatsApp\x20do\x20telefone.\x20Err:\x20','log','logger','2372489TOCIeC','findByPk','../../libs/wbot-baileys','../../models/Whatsapp','configurable','5293054WPxTZy','error','call','create','WMDub','isString','forEach','status','Whatsapp\x20selecionado\x20não\x20esta\x20conectado','20GDAZou','51160KNEVqk','status@broadcast','4132zHeTUO','CONNECTED','__createBinding','defineProperty','8KNjQNj','NUwbW','LuqOF','hasOwnProperty','422672rxdTJi','getOwnPropertyDescriptor','12vlhxfZ','387lDJeDw','../../errors/AppError','captureException','prototype','../../utils/logger','ndmPS','lodash','12mDgXJY','findOne','default','__importDefault','15MkPxgy','g.us','oZJRQ','get','getWbot','stringify','../BaileysServices/ShowBaileysService','__importStar','1028465XNKJYA','@sentry/node','parse','warn'];a=function(){return X;};return a();}function b(c,d){const e=a();return b=function(f,g){f=f-0x10f;let h=e[f];return h;},b(c,d);}exports[I(0x13b)]=ImportContactsService;