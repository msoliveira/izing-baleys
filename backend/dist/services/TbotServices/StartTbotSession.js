'use strict';const n=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0xb7))/0x1*(parseInt(k(0xb9))/0x2)+-parseInt(k(0xbf))/0x3+-parseInt(l(0xb2))/0x4+parseInt(l(0xbe))/0x5+parseInt(k(0xae))/0x6+parseInt(k(0xa8))/0x7*(parseInt(l(0xa6))/0x8)+-parseInt(k(0xbc))/0x9*(-parseInt(k(0xc0))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x95891));function b(c,d){const e=a();return b=function(f,g){f=f-0xa6;let h=e[f];return h;},b(c,d);}var __importDefault=this&&this['__importDefault']||function(c){const m=b;return c&&c[m(0xb8)]?c:{'default':c};};function a(){const t=['4577544EMaOIo','ERROR:\x20checkMessages\x20Tenant:\x20','update','getIO','../../libs/socket','21RzZswq','__esModule','25566hRjwxH','default','logger','549LUGMMD','../../libs/tbot','3091925QCMaPV','880833ZMOhZK','5420ttuGyv','24peoGYM','tbotMessageListener','930538jmzocU','error','CHECK_INTERVAL','OPENING','./TelegramSendMessagesSystem','tenantId','4390812PypXty','../../utils/logger','StartTbotSession','emit'];a=function(){return t;};return a();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[n(0xb0)]=void 0x0;const socket_1=require(n(0xb6)),tbot_1=require(o(0xbd)),logger_1=require(o(0xaf)),tbotMessageListener_1=require('./tbotMessageListener'),TelegramSendMessagesSystem_1=__importDefault(require(n(0xac))),checkingTelegram={},checkMessages=async(c,d)=>{const p=o,q=n;if(checkingTelegram[d])return;checkingTelegram[d]=!![];try{await(0x0,TelegramSendMessagesSystem_1[p(0xba)])(c,d);}catch(e){logger_1['logger'][q(0xa9)](q(0xb3)+d+'::',e);}checkingTelegram[d]=![];},StartTbotSession=async c=>{const r=n,s=o,d=(0x0,socket_1[r(0xb5)])();await c[r(0xb4)]({'status':r(0xab)}),d[r(0xb1)](c[r(0xad)]+':whatsappSession',{'action':r(0xb4),'session':c});try{const e=await(0x0,tbot_1['initTbot'])(c);(0x0,tbotMessageListener_1[r(0xa7)])(e),setInterval(checkMessages,+(process['env'][r(0xaa)]||0x1388),e,c['tenantId']);}catch(f){logger_1[s(0xbb)][r(0xa9)]('StartTbotSession\x20|\x20Error:\x20'+f);}};exports['StartTbotSession']=StartTbotSession;