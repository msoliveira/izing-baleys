'use strict';const I=b,L=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=parseInt(G(0x108))/0x1*(-parseInt(H(0x10f))/0x2)+-parseInt(H(0x10d))/0x3+-parseInt(H(0x115))/0x4*(parseInt(G(0x10e))/0x5)+-parseInt(G(0x126))/0x6*(-parseInt(H(0x116))/0x7)+-parseInt(G(0x10c))/0x8+-parseInt(H(0x113))/0x9+parseInt(G(0x107))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x58f79));var __createBinding=this&&this[I(0x11d)]||(Object['create']?function(c,d,e,f){const J=I,K=I;if(f===undefined)f=e;var g=Object[J(0x11a)](d,e);(!g||(J(0x106)in g?!d['__esModule']:g[K(0x118)]||g['configurable']))&&(g={'enumerable':!![],'get':function(){return d[e];}}),Object[K(0x112)](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this[L(0x122)]||(Object['create']?function(c,d){const M=I;Object[M(0x112)](c,'default',{'enumerable':!![],'value':d});}:function(c,d){const N=L;c[N(0x109)]=d;}),__importStar=this&&this[L(0x10b)]||function(c){const O=I,P=L;if(c&&c[O(0x111)])return c;var d={};if(c!=null){for(var e in c)if(e!=='default'&&Object[P(0x120)]['hasOwnProperty']['call'](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[L(0x110)]||function(c){const Q=L;return c&&c[Q(0x111)]?c:{'default':c};};Object[L(0x112)](exports,I(0x111),{'value':!![]});function a(){const T=['4834lsWOcK','__importDefault','__esModule','defineProperty','915219WbbeNp','OKyIZ','139448nKpdMB','28GHDdWr','../../errors/AppError','writable','test','getOwnPropertyDescriptor','QqrYk','ERR_PLAN_INVALID_NAME','__createBinding','shape','Check-unique-name','prototype','min','__setModuleDefault','../../models/Plan','create','validate','653628OXJhFR','get','5295600rWplkd','1rlThHA','default','message','__importStar','1903384dyXnmd','358272ClaVpv','20VSuRuo'];a=function(){return T;};return a();}const Yup=__importStar(require('yup')),AppError_1=__importDefault(require(L(0x117))),Plan_1=__importDefault(require(I(0x123))),CreatePlanService=async c=>{const R=I,S=I,{name:d}=c,e=Yup['object']()[R(0x11e)]({'name':Yup['string']()[S(0x121)](0x2,'ERR_PLAN_INVALID_NAME')['required'](R(0x11c))[S(0x119)](R(0x11f),'ERR_PLAN_NAME_ALREADY_EXISTS',async g=>{if(g){const h=await Plan_1['default']['findOne']({'where':{'name':g}});return!h;}return![];})});try{if(R(0x114)==='xOtes'){if(k===l)m=n;o[p]=q[r];}else await e[R(0x125)]({'name':d});}catch(h){if(S(0x11b)!=='QqrYk')f={'enumerable':!![],'get':function(){return i[j];}};else throw new AppError_1[(S(0x109))](h[R(0x10a)]);}const f=await Plan_1[S(0x109)][S(0x124)](c);return f;};function b(c,d){const e=a();return b=function(f,g){f=f-0x106;let h=e[f];return h;},b(c,d);}exports[I(0x109)]=CreatePlanService;