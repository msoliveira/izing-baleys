'use strict';const o=b,p=b;(function(c,d){const m=b,n=b,e=c();while(!![]){try{const f=parseInt(m(0x203))/0x1+parseInt(n(0x206))/0x2+-parseInt(n(0x1f1))/0x3+-parseInt(n(0x1f8))/0x4+parseInt(m(0x1ff))/0x5*(parseInt(m(0x1f6))/0x6)+-parseInt(n(0x1fe))/0x7*(parseInt(m(0x1f5))/0x8)+-parseInt(n(0x1f7))/0x9*(-parseInt(n(0x1f4))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xd1163));var __importDefault=this&&this[o(0x200)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object['defineProperty'](exports,o(0x202),{'value':!![]});const logger_1=require('../../utils/logger'),FindOrCreateTicketService_1=__importDefault(require('../TicketServices/FindOrCreateTicketService')),ShowWhatsAppService_1=__importDefault(require(p(0x1f2))),VerifyContactWaba360_1=__importDefault(require(p(0x201))),VerifyMediaMessage360_1=__importDefault(require(p(0x208))),VerifyMessage360_1=__importDefault(require(p(0x1fc))),HandleMessage360=async(c,d)=>{return new Promise((e,f)=>{((async()=>{const q=b,r=b;let g,h;const i=0x1;try{g=await(0x0,ShowWhatsAppService_1['default'])({'id':d}),h=await(0x0,VerifyContactWaba360_1[q(0x1fd)])(c['contacts'][0x0],g[q(0x207)]);const j={...c[q(0x1fa)][0x0],'fromMe':![],'message_id':c[q(0x1fa)][0x0]['id']},k=await(0x0,FindOrCreateTicketService_1[r(0x1fd)])({'contact':h,'whatsappId':g['id'],'unreadMessages':i,'tenantId':g['tenantId'],'msg':j,'channel':r(0x204)});if(k?.[r(0x205)]){e();return;}if(k?.[q(0x1f9)]){e();return;}j[r(0x1f3)]!==r(0x1fb)?await(0x0,VerifyMediaMessage360_1[q(0x1fd)])(g,j,k,h):await(0x0,VerifyMessage360_1[r(0x1fd)])(j,k,h),e();}catch(l){logger_1['logger']['error'](l),f(l);}})());});};function b(c,d){const e=a();return b=function(f,g){f=f-0x1f1;let h=e[f];return h;},b(c,d);}exports[o(0x1fd)]=HandleMessage360;function a(){const s=['4835037CGLNiV','../WhatsappService/ShowWhatsAppService','type','19636180OJhFGh','16oExUnM','26346ZBtTcV','18FdcDGX','4605548KhgmeN','isFarewellMessage','messages','text','./VerifyMessage360','default','5724411ngLFes','15bAMomk','__importDefault','./VerifyContactWaba360','__esModule','749726YOoCCT','waba','isCampaignMessage','1129792SmFDoL','tenantId','./VerifyMediaMessage360'];a=function(){return s;};return a();}