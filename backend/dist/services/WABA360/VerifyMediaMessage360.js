'use strict';const o=b,q=b;function b(c,d){const e=a();return b=function(f,g){f=f-0xa5;let h=e[f];return h;},b(c,d);}(function(c,d){const m=b,n=b,e=c();while(!![]){try{const f=-parseInt(m(0xb5))/0x1*(parseInt(m(0xab))/0x2)+-parseInt(m(0xa9))/0x3*(-parseInt(n(0xad))/0x4)+parseInt(m(0xb2))/0x5+-parseInt(n(0xb6))/0x6+parseInt(m(0xb8))/0x7+parseInt(n(0xa5))/0x8+-parseInt(n(0xbe))/0x9*(parseInt(m(0xb7))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x6e3e1));function a(){const t=['148CoWiYl','body','type','text','./GetMediaWaba360','82690zttzqA','sended','includes','49659pMLYaM','4769448fnAgxp','409540JbTjUd','3519138zJadRY','update','fromMe','template','tenantId','defineProperty','9xygtBw','5194024jpktNA','../MessageServices/CreateMessageService','__importDefault','chat','61983uoEyPo','__esModule','26YdDBMJ','default'];a=function(){return t;};return a();}var __importDefault=this&&this[o(0xa7)]||function(c){const p=o;return c&&c[p(0xaa)]?c:{'default':c};};Object[q(0xbd)](exports,'__esModule',{'value':!![]});const CreateMessageService_1=__importDefault(require(q(0xa6))),GetMediaWaba360_1=__importDefault(require(q(0xb1))),VerifyMediaMessage=async(c,d,e,f)=>{const r=o,s=o;let g;try{g=await(0x0,GetMediaWaba360_1[r(0xac)])({'channel':c,'msg':d,'ticket':e});}catch(k){}let h;if(![s(0xb0),s(0xa8),s(0xbb)][r(0xb4)](d['type'])){const l=d;h=l[d[s(0xaf)]]['id'];}const i={'messageId':d['id']||'','ticketId':e['id'],'contactId':d[s(0xba)]?undefined:f['id'],'body':d?.[s(0xb0)]?.['body']||g||'','fromMe':d[s(0xba)],'read':d[r(0xba)],'mediaUrl':g,'mediaType':d[r(0xaf)],'timestamp':+d['timestamp'],'wabaMediaId':h,'status':d[s(0xba)]?s(0xb3):'received'};await e[s(0xb9)]({'lastMessage':d?.[r(0xb0)]?.[r(0xae)]||g,'lastMessageAt':new Date()['getTime'](),'answered':d[s(0xba)]||![]});const j=await(0x0,CreateMessageService_1[r(0xac)])({'messageData':i,'tenantId':e[r(0xbc)]});return j;};exports[o(0xac)]=VerifyMediaMessage;