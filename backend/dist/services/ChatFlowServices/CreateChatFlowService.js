'use strict';const n=b,o=b;(function(c,d){const l=b,m=b,e=c();while(!![]){try{const f=parseInt(l(0xf6))/0x1*(parseInt(m(0xfd))/0x2)+-parseInt(m(0xfc))/0x3*(-parseInt(m(0xf7))/0x4)+-parseInt(l(0xf2))/0x5+-parseInt(l(0xfe))/0x6+parseInt(m(0xf9))/0x7*(parseInt(l(0x101))/0x8)+parseInt(m(0xfa))/0x9*(-parseInt(l(0xf0))/0xa)+parseInt(l(0xff))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x48bb1));var __importDefault=this&&this['__importDefault']||function(c){return c&&c['__esModule']?c:{'default':c};};function b(c,d){const e=a();return b=function(f,g){f=f-0xeb;let h=e[f];return h;},b(c,d);}Object['defineProperty'](exports,'__esModule',{'value':!![]});const util_1=require('util'),path_1=require(n(0xed)),fs_1=require('fs'),ChatFlow_1=__importDefault(require('../../models/ChatFlow')),writeFileAsync=(0x0,util_1[o(0xeb)])(fs_1[n(0xfb)]),CreateChatFlowService=async({flow:c,userId:d,tenantId:e,name:f,isActive:g})=>{const p=o,q=n;for await(const i of c[p(0x100)]){if(i[p(0xf4)]===q(0xef))for await(const j of i[q(0x105)]){if(j['type']===q(0x102)&&j[p(0xf1)][q(0x103)]){const k=new Date()['getTime']()+'-'+j[p(0xf1)][p(0xf3)];await writeFileAsync((0x0,path_1[p(0xec)])(__dirname,'..','..','..',p(0x104),k),j[q(0xf1)]['media'][p(0xf8)]('base64')[0x1],'base64'),delete j[q(0xf1)][q(0x103)],j['data'][q(0xf5)]=j[p(0xf1)]['name'],j[p(0xf1)]['mediaUrl']=k;}}}const h=await ChatFlow_1['default'][p(0xee)]({'flow':c,'userId':d,'tenantId':e,'name':f,'isActive':g});return h;};exports['default']=CreateChatFlowService;function a(){const r=['655190IWdxJg','data','2258925VtTAfr','name','type','fileName','3uJIqlk','292dtduJp','split','4030439qmcHuZ','72ZbGWEf','writeFile','3774zMrPBG','168648fmOQHQ','2898120XvHDrd','9199069zChHzg','nodeList','8FfQtTV','MediaField','media','public','interactions','promisify','join','path','create','node'];a=function(){return r;};return a();}