'use strict';const n=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0xc5))/0x1*(-parseInt(l(0xcc))/0x2)+-parseInt(l(0xd8))/0x3*(-parseInt(k(0xcb))/0x4)+parseInt(l(0xdb))/0x5+parseInt(l(0xd0))/0x6+-parseInt(k(0xd1))/0x7+-parseInt(k(0xdc))/0x8*(-parseInt(k(0xc6))/0x9)+-parseInt(k(0xcf))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x19262));function a(){const r=['SELECT','update','../../models/User','QueryTypes','5968AZYEOO','360574xnyXzq','length','userDefine','212770RfKseL','445764dWUUKz','1190028MvVTrk','defineProperty','__esModule','sequelize','default','\x0a\x20\x20\x20\x20select\x20u.id\x20from\x20\x22Users\x22\x20u\x0a\x20\x20\x20\x20left\x20join\x20\x22UsersQueues\x22\x20uq\x20on\x20(u.id\x20=\x20uq.\x22userId\x22)\x0a\x20\x20\x20\x20where\x20u.\x22isOnline\x22\x20=\x20true\x0a\x20\x20\x20\x20and\x20u.\x22profile\x22\x20=\x20\x27user\x27\x0a\x20\x20\x20\x20and\x20u.\x22tenantId\x22\x20=\x20:tenantId\x0a\x20\x20\x20\x20and\x20uq.\x22queueId\x22\x20=\x20:queueId\x0a\x20\x20\x20\x20order\x20by\x20random()\x20limit\x201\x0a\x20\x20','query','411UYnoQu','../TicketServices/CreateLogTicketService','\x0a\x20\x20\x20\x20\x20\x20select\x20id\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20select\x20u.id,\x20u.\x22name\x22,\x20coalesce(count(t.id),\x200)\x20qtd_atendimentos\x20\x20from\x20\x22Users\x22\x20u\x0a\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20\x22UsersQueues\x22\x20uq\x20on\x20(u.id\x20=\x20uq.\x22userId\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Tickets\x22\x20t\x20on\x20(t.\x22userId\x22\x20=\x20u.id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20where\x20u.\x22isOnline\x22\x20=\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20t.status\x20not\x20in\x20(\x27closed\x27,\x20\x27close\x27)\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20u.\x22profile\x22\x20=\x20\x27user\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20u.\x22tenantId\x22\x20=\x20:tenantId\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20uq.\x22queueId\x22\x20=\x20:queueId\x0a\x20\x20\x20\x20\x20\x20\x20\x20group\x20by\x20u.id,\x20u.\x22name\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20order\x20by\x203\x20limit\x201\x0a\x20\x20\x20\x20\x20\x20)\x20a\x0a\x20\x20\x20\x20','193590duiSip','8YwFsqy','1oQfKSK','1414458TVtUTB'];a=function(){return r;};return a();}function b(c,d){const e=a();return b=function(f,g){f=f-0xc5;let h=e[f];return h;},b(c,d);}var __importDefault=this&&this['__importDefault']||function(c){const m=b;return c&&c[m(0xd3)]?c:{'default':c};};Object[n(0xd2)](exports,n(0xd3),{'value':!![]});const sequelize_1=require('sequelize'),User_1=__importDefault(require(n(0xc9))),CreateLogTicketService_1=__importDefault(require(n(0xd9))),DefinedUserBotService=async(c,d,e,f='R')=>{const p=n,q=n;if(f==='N')return;let g=p(0xd6);f==='B'&&(g=q(0xda));const h=await User_1[q(0xd5)][q(0xd4)]?.[q(0xd7)](g,{'replacements':{'tenantId':e,'queueId':d},'type':sequelize_1[p(0xca)][q(0xc7)]});if(h[q(0xcd)]){const i=h[0x0]['id'];await c[p(0xc8)]({'userId':i}),await(0x0,CreateLogTicketService_1[p(0xd5)])({'ticketId':c['id'],'type':p(0xce),'userId':i});}};exports[o(0xd5)]=DefinedUserBotService;