'use strict';const m=b,n=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0xc9))/0x1*(-parseInt(l(0xcf))/0x2)+-parseInt(k(0xc3))/0x3+parseInt(k(0xd0))/0x4*(parseInt(k(0xc2))/0x5)+parseInt(k(0xbc))/0x6*(-parseInt(k(0xd2))/0x7)+parseInt(l(0xbb))/0x8*(parseInt(k(0xcb))/0x9)+-parseInt(l(0xce))/0xa+parseInt(l(0xca))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x6ea6d));var __importDefault=this&&this['__importDefault']||function(c){return c&&c['__esModule']?c:{'default':c};};Object[m(0xcc)](exports,m(0xd1),{'value':!![]});function a(){const s=['61515rpCJBH','defineProperty','findAll','1915220FWEcAd','31772bIUOKI','8nkSaXt','__esModule','14203kJMqHV','744ixiUyY','1356lvcYNI','../../models/ReadMessageGroups','update','default','../../errors/AppError','USER_GROUP_NOT_FOUND','1942475PfxkmF','2670762iMJIcK','./../../models/UsersGroups','length','create','groupId','forEach','49gwbHHa','14952608YreniG'];a=function(){return s;};return a();}const AppError_1=__importDefault(require(m(0xc0))),InternalMessage_1=__importDefault(require('../../models/InternalMessage')),ReadMessageGroups_1=__importDefault(require(n(0xbd))),UsersGroups_1=__importDefault(require(m(0xc4))),ReadMessageService=async({senderId:c,userId:d,isGroup:e})=>{const o=n,p=n;if(e===![])await InternalMessage_1[o(0xbf)][p(0xbe)]({'read':!![]},{'where':{'senderId':c,'receiverId':d}});else{const f=await UsersGroups_1['default']['findOne']({'where':{'groupId':c,'userId':d}});!f&&new AppError_1[(p(0xbf))](p(0xc1),0x194);const g=await InternalMessage_1[p(0xbf)][o(0xcd)]({'where':{'groupId':f[p(0xc7)]}});g[p(0xc8)](async h=>{const q=o,r=o,i=await ReadMessageGroups_1[q(0xbf)][r(0xcd)]({'where':{'internalMessageId':h['id'],'userGroupId':f['id']}});if(i[q(0xc5)]<=0x0){const j={'internalMessageId':h['id'],'userGroupId':f['id']};await ReadMessageGroups_1[q(0xbf)][q(0xc6)](j);}});}};function b(c,d){const e=a();return b=function(f,g){f=f-0xbb;let h=e[f];return h;},b(c,d);}exports[m(0xbf)]=ReadMessageService;