'use strict';const m=b,o=b;function b(c,d){const e=a();return b=function(f,g){f=f-0xe9;let h=e[f];return h;},b(c,d);}function a(){const v=['sequelize','260NQUqSg','false','6028953NlgKBW','2237262iDdffn','name','timestamp','2410168sVsRsh','listarMensagens','criarMensagem','6172YoIIuu','findAll','findByPk','1246494gPKDBI','Avkpy','906385xnQfBT','__importDefault','IVhws','568pWagNK','Mensagem\x20não\x20encontrada.','../../models/User','receiver','Flfar','viFhu','113742fdnrCy','ExDTu','defineProperty','default','marcarMensagemNaoLida','create','__esModule','../../models/InternalMessage','update'];a=function(){return v;};return a();}(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0xfa))/0x1*(-parseInt(l(0x103))/0x2)+parseInt(l(0x106))/0x3+-parseInt(k(0x100))/0x4+parseInt(l(0x108))/0x5+-parseInt(k(0xfd))/0x6+parseInt(l(0xfc))/0x7+parseInt(l(0xea))/0x8*(parseInt(l(0xf0))/0x9);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x8d025));var __importDefault=this&&this[m(0x109)]||function(c){const n=m;return c&&c[n(0xf6)]?c:{'default':c};};Object[m(0xf2)](exports,'__esModule',{'value':!![]});const sequelize_1=require(o(0xf9)),InternalMessage_1=__importDefault(require(o(0xf7))),User_1=__importDefault(require(m(0xec)));class MessageService{static async[m(0x101)](c,d,e){const p=o,q=o;try{if(p(0xf1)===q(0xef))return g&&h[q(0xf6)]?i:{'default':j};else{let g;return e==q(0xfb)?g=await InternalMessage_1[p(0xf3)]['findAll']({'where':{[sequelize_1['Op']['or']]:[{'senderId':c,'receiverId':d},{'receiverId':c,'senderId':d}]},'include':[{'model':User_1[p(0xf3)],'as':'sender','attributes':['id',q(0xfe)]},{'model':User_1[q(0xf3)],'as':p(0xed),'attributes':['id',q(0xfe)]}],'order':['timestamp'],'limit':0x1f4}):g=await InternalMessage_1[p(0xf3)][q(0x104)]({'where':{'groupId':d},'include':[{'model':User_1['default'],'as':'sender','attributes':['id',q(0xfe)]},{'model':User_1[p(0xf3)],'as':'receiver','attributes':['id',q(0xfe)]}],'order':[q(0xff)],'limit':0x1f4}),g;}}catch(h){throw h;}}static async[o(0x102)](c){const r=o,s=o;try{return await InternalMessage_1[r(0xf3)][s(0xf5)](c);}catch(d){if(s(0xee)!==r(0xee))throw d;else throw d;}}static async[o(0xf4)](c){const t=m,u=o;try{const d=await InternalMessage_1[t(0xf3)][t(0x105)](c);if(!d){if(t(0xe9)===t(0xe9))throw new Error('Mensagem\x20não\x20encontrada.');else throw d;}await d[u(0xf8)]({'isUnread':!![]});}catch(f){if(u(0x107)===t(0x107))throw f;else throw new d(t(0xeb));}}}exports[m(0xf3)]=MessageService;