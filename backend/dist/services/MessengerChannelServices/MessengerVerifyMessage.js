'use strict';const m=b,o=b;function a(){const r=['2441005KeYOcx','2845yhBDkN','tenantId','message_id','__importDefault','update','__esModule','744458FFvfkI','2808Savjyq','text','received','2188IAsaXO','982632ryWLMz','mid','../../helpers/getQuotedForMessageId','default','reply_to','820602ICqzrk','message','3181464hJdcvJ','body','defineProperty','timestamp','../MessageServices/CreateMessageService','738xfZXpT'];a=function(){return r;};return a();}(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=-parseInt(k(0xbd))/0x1+parseInt(l(0xb3))/0x2+parseInt(l(0xb8))/0x3+parseInt(k(0xb7))/0x4*(-parseInt(k(0xad))/0x5)+parseInt(l(0xbf))/0x6+parseInt(k(0xac))/0x7+-parseInt(k(0xb4))/0x8*(-parseInt(l(0xab))/0x9);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x74215));var __importDefault=this&&this[m(0xb0)]||function(c){const n=m;return c&&c[n(0xb2)]?c:{'default':c};};Object[m(0xc1)](exports,'__esModule',{'value':!![]});const getQuotedForMessageId_1=__importDefault(require(m(0xba))),CreateMessageService_1=__importDefault(require(o(0xaa))),MessengerVerifyMessage=async(c,d,e)=>{const p=o,q=m;let f;if(c?.[p(0xbe)]?.[q(0xbc)]?.[p(0xb9)]){const h=await(0x0,getQuotedForMessageId_1[p(0xbb)])(c[q(0xbe)][q(0xbc)]['mid'],d[q(0xae)]);f=h?.['id']||undefined;}const g={'messageId':c[p(0xaf)]||'','ticketId':d['id'],'contactId':e['id'],'body':c[p(0xbe)][q(0xb5)]||'','fromMe':![],'mediaType':c['type'],'read':![],'quotedMsgId':f,'timestamp':c[q(0xc2)],'status':p(0xb6)};await d[p(0xb1)]({'lastMessage':g[q(0xc0)],'lastMessageAt':new Date()['getTime'](),'answered':![]}),await(0x0,CreateMessageService_1[p(0xbb)])({'messageData':g,'tenantId':d['tenantId']});};function b(c,d){const e=a();return b=function(f,g){f=f-0xaa;let h=e[f];return h;},b(c,d);}exports[m(0xbb)]=MessengerVerifyMessage;