'use strict';const m=b,n=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x15b))/0x1*(-parseInt(k(0x164))/0x2)+parseInt(l(0x159))/0x3+-parseInt(k(0x165))/0x4*(parseInt(l(0x162))/0x5)+parseInt(l(0x157))/0x6*(-parseInt(k(0x15d))/0x7)+parseInt(l(0x15a))/0x8+parseInt(k(0x163))/0x9*(parseInt(l(0x16c))/0xa)+parseInt(l(0x160))/0xb*(parseInt(k(0x161))/0xc);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x3982e));function b(c,d){const e=a();return b=function(f,g){f=f-0x156;let h=e[f];return h;},b(c,d);}var __importDefault=this&&this[m(0x167)]||function(c){return c&&c['__esModule']?c:{'default':c};};function a(){const q=['ERROR_CAMPAIGN_NOT_EXISTS','58662zhgFyk','removeJobs','415509RRSnNY','1986376ceMAzl','2151DcOqaq','bull','287FmDiiP','default','../../models/CampaignContacts','44FcEMdh','1531044yijrFk','5aJftyK','573912PaUVGA','288LPsZvR','1589428iaOxSU','campaginId_','__importDefault','defineProperty','SendMessageWhatsappCampaign','../../errors/AppError','../../models/Campaign','70BOZgrO','update','findOne'];a=function(){return q;};return a();}Object[n(0x168)](exports,'__esModule',{'value':!![]});const bull_1=__importDefault(require(m(0x15c))),Campaign_1=__importDefault(require(m(0x16b))),AppError_1=__importDefault(require(m(0x16a))),CampaignContacts_1=__importDefault(require(n(0x15f))),CancelCampaignService=async({campaignId:c,tenantId:d})=>{const o=m,p=m,e=await Campaign_1[o(0x15e)][o(0x16e)]({'where':{'id':c,'tenantId':d}});if(!e)throw new AppError_1['default'](o(0x156),0x194);try{await(0x0,bull_1[p(0x15e)])(o(0x169))[p(0x158)](p(0x166)+e['id']+'*'),await CampaignContacts_1['default'][o(0x16d)]({'body':null,'mediaName':null,'timestamp':null,'ack':0x0,'messageId':null},{'where':{'campaignId':e['id'],'messageId':null}}),await e['update']({'status':'canceled'});}catch(f){throw new AppError_1['default']('ERROR:\x20'+f,0x194);}};exports[n(0x15e)]=CancelCampaignService;