'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x1c1;let h=e[f];return h;},b(c,d);}function a(){const q=['30SAJBWl','9iMWtjr','35592OMSdAg','18048151sZjJeF','823rpiCgW','SELECT','__esModule','1404164XFcOtM','__importDefault','default','3375kECyvL','7069425HFaaGW','sequelize','5063470mnPqxH','\x0a\x20\x20\x20\x20select\x20distinct\x0a\x20\x20\x20\x20g.id\x0a\x20\x20\x20\x20,\x20g.\x22group\x22\x20as\x20name\x0a\x20\x20\x20\x20,\x20(\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20select\x20count(mi.*)\x0a\x20\x20\x20\x20\x20\x20\x20\x20from\x20\x22InternalMessage\x22\x20mi\x0a\x20\x20\x20\x20\x20\x20\x20\x20where\x20mi.\x22groupId\x22\x20\x20=\x20g.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20mi.\x22senderId\x22\x20!=\x20:userId\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20mi.id\x20not\x20in\x20(\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20rmg.\x22internalMessageId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20\x22ReadMessageGroups\x22\x20rmg,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22InternalMessage\x22\x20im2\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20rmg.\x22userGroupId\x22\x20=\x20ug.id\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20and\x20rmg.\x22internalMessageId\x22\x20=\x20im2.id\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20),\x0a\x20\x20\x20\x20mm_last_message.\x22text\x22,\x0a\x20\x20\x20\x20mm_last_message.\x22timestamp\x22\x0a\x20\x20\x20\x20from\x20\x22Groups\x22\x20g,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22UsersGroups\x22\x20ug\x0a\x20\x20\x20\x20left\x20join\x20LATERAL\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mi1.\x22text\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20,\x20mi1.\x22timestamp\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20,\x20mi1.\x22groupId\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20,\x20mi1.\x22senderId\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20\x22InternalMessage\x22\x20mi1\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20mi1.\x22createdAt\x22\x20=\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20select\x20max(\x22createdAt\x22)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20\x22InternalMessage\x22\x20mi2\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20mi2.\x22groupId\x22\x20=\x20g.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20AS\x20mm_last_message\x20ON\x20true\x0a\x20\x20\x20\x20where\x20ug.\x22userId\x22\x20=\x20:userId\x0a\x20\x20\x20\x20and\x20ug.\x22groupId\x22\x20=\x20g.id\x0a\x20\x20\x20\x20and\x20g.\x22isActive\x22\x20=\x20true\x0a\x20\x20\x20\x20','1106686hvlYPu','../../models/Group','3012MeZwiE'];a=function(){return q;};return a();}const m=b,n=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=-parseInt(k(0x1c1))/0x1*(parseInt(k(0x1ce))/0x2)+-parseInt(l(0x1d0))/0x3*(parseInt(l(0x1c4))/0x4)+-parseInt(k(0x1c8))/0x5+-parseInt(k(0x1cf))/0x6*(-parseInt(l(0x1cc))/0x7)+-parseInt(l(0x1d1))/0x8*(-parseInt(l(0x1c7))/0x9)+parseInt(l(0x1ca))/0xa+parseInt(k(0x1d2))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xdb9b3));var __importDefault=this&&this[m(0x1c5)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object['defineProperty'](exports,n(0x1c3),{'value':!![]});const sequelize_1=require('sequelize'),Group_1=__importDefault(require(m(0x1cd))),ListGroupsByUserId=async c=>{const o=m,p=n,d=o(0x1cb),e=await Group_1['default'][p(0x1c9)]?.['query'](d,{'replacements':{'userId':c},'type':sequelize_1['QueryTypes'][p(0x1c2)],'nest':!![]});return e;};exports[m(0x1c6)]=ListGroupsByUserId;