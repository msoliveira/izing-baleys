'use strict';const r=b,t=b;(function(c,d){const p=b,q=b,e=c();while(!![]){try{const f=parseInt(p(0x199))/0x1*(parseInt(q(0x18c))/0x2)+-parseInt(p(0x19b))/0x3+-parseInt(q(0x185))/0x4*(-parseInt(p(0x193))/0x5)+-parseInt(q(0x18b))/0x6*(-parseInt(p(0x183))/0x7)+parseInt(p(0x18a))/0x8+parseInt(p(0x189))/0x9+-parseInt(p(0x18f))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x2ca90));var __importDefault=this&&this[r(0x18d)]||function(c){const s=r;return c&&c[s(0x186)]?c:{'default':c};};Object[t(0x19a)](exports,t(0x186),{'value':!![]});function a(){const w=['chats','contacts','stringify','43640QwkabQ','parse','push','default','filter','findOne','96433ivtHRy','defineProperty','308829eSbVwe','42WgMnJL','update','24GMvuDy','__esModule','sort','log','3171663IlTgnr','2019208CWlJdm','179070qBWAgO','6zrZISV','__importDefault','../../models/Baileys','8396740SZzthL'];a=function(){return w;};return a();}const Baileys_1=__importDefault(require(r(0x18e))),createOrUpdateBaileysService=async({whatsappId:c,contacts:d,chats:e})=>{const u=r,v=r;try{const f=await Baileys_1[u(0x196)][v(0x198)]({'where':{'whatsappId':c}});if(f){const h=f[u(0x190)]?JSON[v(0x194)](f[v(0x190)]):[],i=f[u(0x191)]?JSON[u(0x194)](f[u(0x191)]):[];if(e){h['push'](...e),h[u(0x187)]();const j=h[v(0x197)]((k,l,m)=>m['findIndex'](n=>n['id']===k['id'])===l);return await f[v(0x184)]({'chats':JSON[u(0x192)](j)});}if(d){i[v(0x195)](...d),i[u(0x187)]();const k=i[u(0x197)]((l,m,n)=>n['findIndex'](o=>o['id']===l['id'])===m);return await f['update']({'contacts':JSON[u(0x192)](k)});}}const g=await Baileys_1[u(0x196)]['create']({'whatsappId':c,'contacts':JSON[v(0x192)](d),'chats':JSON[v(0x192)](e)});return await new Promise(l=>setTimeout(l,0x3e8)),g;}catch(l){console[v(0x188)](l);throw new Error(l);}};function b(c,d){const e=a();return b=function(f,g){f=f-0x183;let h=e[f];return h;},b(c,d);}exports[t(0x196)]=createOrUpdateBaileysService;