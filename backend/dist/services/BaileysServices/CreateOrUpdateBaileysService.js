'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x16e;let h=e[f];return h;},b(c,d);}const r=b,t=b;(function(c,d){const p=b,q=b,e=c();while(!![]){try{const f=-parseInt(p(0x17a))/0x1*(parseInt(q(0x178))/0x2)+parseInt(p(0x17f))/0x3+-parseInt(q(0x17d))/0x4*(-parseInt(p(0x170))/0x5)+parseInt(p(0x171))/0x6*(-parseInt(q(0x17c))/0x7)+parseInt(q(0x186))/0x8*(-parseInt(q(0x183))/0x9)+parseInt(p(0x17b))/0xa+-parseInt(q(0x16f))/0xb*(parseInt(p(0x172))/0xc);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xeae3b));var __importDefault=this&&this[r(0x182)]||function(c){const s=r;return c&&c[s(0x17e)]?c:{'default':c};};function a(){const w=['__importDefault','189999ZPgryt','parse','chats','56rkoohR','defineProperty','10777217sNuglZ','5SdVwMK','78MMzfnp','12gTQHLM','filter','findOne','default','stringify','push','820486DhjUAW','contacts','1IxnLSB','9243440hZmuoS','70987nVJwCF','456988Xlcqes','__esModule','4779348ruhHRc','findIndex','sort'];a=function(){return w;};return a();}Object[t(0x16e)](exports,r(0x17e),{'value':!![]});const Baileys_1=__importDefault(require('../../models/Baileys')),createOrUpdateBaileysService=async({whatsappId:c,contacts:d,chats:e})=>{const u=r,v=r;try{const f=await Baileys_1[u(0x175)][v(0x174)]({'where':{'whatsappId':c}});if(f){const h=f['chats']?JSON[u(0x184)](f[v(0x185)]):[],i=f[v(0x179)]?JSON[u(0x184)](f[v(0x179)]):[];if(e){h[u(0x177)](...e),h['sort']();const j=h[u(0x173)]((k,l,m)=>m[u(0x180)](n=>n['id']===k['id'])===l);return await f['update']({'chats':JSON['stringify'](j)});}if(d){i[v(0x177)](...d),i[u(0x181)]();const k=i[u(0x173)]((l,m,n)=>n[u(0x180)](o=>o['id']===l['id'])===m);return await f['update']({'contacts':JSON['stringify'](k)});}}const g=await Baileys_1['default']['create']({'whatsappId':c,'contacts':JSON['stringify'](d),'chats':JSON[v(0x176)](e)});return await new Promise(l=>setTimeout(l,0x3e8)),g;}catch(l){console['log'](l);throw new Error(l);}};exports[r(0x175)]=createOrUpdateBaileysService;