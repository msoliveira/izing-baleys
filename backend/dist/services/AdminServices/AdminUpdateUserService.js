'use strict';const I=b,P=b;function a(){const V=['3776184VGOjRJ','ERR_NO_USER_FOUND','329058TTBuWB','configurable','findOne','email','defineProperty','message','prototype','default','3hSsRpc','hasOwnProperty','2142656vpDnmV','pnLhy','6629035cQztVD','string','update','writable','../../models/User','name','profile','__createBinding','get','__esModule','42tqEfUM','validate','1472975ntOLDQ','huztl','shape','__importStar','3727144uWfYaK','__importDefault','getOwnPropertyDescriptor','call','142306RMCdvv','tenantId'];a=function(){return V;};return a();}(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=parseInt(G(0x15c))/0x1+-parseInt(G(0x160))/0x2+-parseInt(H(0x144))/0x3*(-parseInt(G(0x158))/0x4)+parseInt(G(0x148))/0x5+-parseInt(G(0x152))/0x6*(parseInt(G(0x154))/0x7)+-parseInt(H(0x146))/0x8+parseInt(H(0x15e))/0x9;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xdf2db));function b(c,d){const e=a();return b=function(f,g){f=f-0x13f;let h=e[f];return h;},b(c,d);}var __createBinding=this&&this[I(0x14f)]||(Object['create']?function(c,d,e,f){const J=I,K=I;if(f===undefined)f=e;var g=Object[J(0x15a)](d,e);if(!g||(K(0x150)in g?!d['__esModule']:g[K(0x14b)]||g[J(0x161)])){if('SzzHj'!=='oWuoY')g={'enumerable':!![],'get':function(){const L=K;if('pnLhy'!==L(0x147))f={'enumerable':!![],'get':function(){return i[j];}};else return d[e];}};else{if(n&&c['__esModule'])return p;var i={};if(q!=null){for(var j in r)if(j!==K(0x143)&&s[J(0x142)]['hasOwnProperty'][J(0x15b)](t,j))u(i,v,j);}return w(i,x),i;}}Object['defineProperty'](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(c,d){const M=I,N=I;Object[M(0x140)](c,M(0x143),{'enumerable':!![],'value':d});}:function(c,d){const O=I;c[O(0x143)]=d;}),__importStar=this&&this[I(0x157)]||function(c){const Q=I,R=P;if(c&&c['__esModule'])return c;var d={};if(c!=null){for(var e in c)if(e!==Q(0x143)&&Object['prototype'][R(0x145)][Q(0x15b)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[P(0x159)]||function(c){const S=P;return c&&c[S(0x151)]?c:{'default':c};};Object[I(0x140)](exports,I(0x151),{'value':!![]});const Yup=__importStar(require('yup')),AppError_1=__importDefault(require('../../errors/AppError')),User_1=__importDefault(require(P(0x14c))),AdminUpdateUserService=async({userData:c,userId:d})=>{const T=P,U=P,e=await User_1[T(0x143)][T(0x162)]({'where':{'id':d},'attributes':[U(0x14d),'id',T(0x15d),'email',U(0x14e)]});if(!e)throw new AppError_1[(U(0x143))](U(0x15f),0x194);const f=Yup['object']()[T(0x156)]({'name':Yup[T(0x149)]()['min'](0x2),'email':Yup[U(0x149)]()[T(0x13f)](),'profile':Yup['string'](),'password':Yup[U(0x149)]()}),{email:g,password:h,profile:i,name:j}=c;try{await f[T(0x153)]({'email':g,'password':h,'profile':i,'name':j});}catch(l){if(T(0x155)!=='huztl'){if(k===l)m=n;o[p]=q[r];}else throw new AppError_1[(U(0x143))](l?.[U(0x141)]);}await e[T(0x14a)]({'email':g,'password':h,'profile':i,'name':j}),await e['reload']({'attributes':['id',U(0x14d),T(0x13f),T(0x14e),U(0x15d)]});const k={'id':e['id'],'name':e[T(0x14d)],'email':e[U(0x13f)],'profile':e['profile'],'tenantId':e[T(0x15d)]};return k;};exports['default']=AdminUpdateUserService;