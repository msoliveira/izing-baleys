'use strict';const I=b,L=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=parseInt(G(0x1be))/0x1*(-parseInt(G(0x1bf))/0x2)+parseInt(H(0x1b6))/0x3+parseInt(H(0x1cc))/0x4+parseInt(H(0x1b1))/0x5*(parseInt(H(0x1c7))/0x6)+-parseInt(H(0x1b7))/0x7+parseInt(H(0x1bd))/0x8*(parseInt(G(0x1c4))/0x9)+-parseInt(G(0x1ab))/0xa*(parseInt(G(0x1b9))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xd4ce9));function b(c,d){const e=a();return b=function(f,g){f=f-0x1a9;let h=e[f];return h;},b(c,d);}function a(){const V=['53031goTMtJ','kJqvT','default','create','124056yoZzKg','155HjMKjp','18950KhHxlj','findOne','prototype','get','object','675CYNCgQ','min','test','484212afqIMo','admin','hasOwnProperty','string','An\x20user\x20with\x20this\x20email\x20already\x20exists.','3684432mzBxST','yup','defineProperty','1930DBExxz','required','__setModuleDefault','message','EUpxq','jFGsy','15KlBcJH','configurable','number','__esModule','name','4931772zEwsSM','4895996yNkNNa','validate'];a=function(){return V;};return a();}var __createBinding=this&&this['__createBinding']||(Object[I(0x1bc)]?function(c,d,e,f){const J=I,K=I;if(f===undefined)f=e;var g=Object['getOwnPropertyDescriptor'](d,e);(!g||(J(0x1c2)in g?!d['__esModule']:g['writable']||g[J(0x1b2)]))&&(J(0x1b0)!==J(0x1b0)?e['default']=f:g={'enumerable':!![],'get':function(){return d[e];}}),Object[K(0x1aa)](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this[I(0x1ad)]||(Object['create']?function(c,d){const M=I,N=L;Object[M(0x1aa)](c,M(0x1bb),{'enumerable':!![],'value':d});}:function(c,d){const O=L;c[O(0x1bb)]=d;}),__importStar=this&&this['__importStar']||function(c){const P=I,Q=L;if(c&&c[P(0x1b4)])return c;var d={};if(c!=null){for(var e in c)if(e!==Q(0x1bb)&&Object[Q(0x1c1)][Q(0x1c9)]['call'](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this['__importDefault']||function(c){const R=I;return c&&c[R(0x1b4)]?c:{'default':c};};Object[L(0x1aa)](exports,I(0x1b4),{'value':!![]});const Yup=__importStar(require(I(0x1a9))),AppError_1=__importDefault(require('../../errors/AppError')),User_1=__importDefault(require('../../models/User')),CreateUserService=async({email:c,password:d,name:e,tenantId:f,profile:profile=L(0x1c8),configs:g})=>{const S=L,T=I,h=Yup[S(0x1c3)]()['shape']({'name':Yup[T(0x1ca)]()[T(0x1ac)]()[S(0x1c5)](0x2),'tenantId':Yup[T(0x1b3)]()[T(0x1ac)](),'email':Yup[T(0x1ca)]()['email']()[S(0x1ac)]()[T(0x1c6)]('Check-email',S(0x1cb),async k=>{const U=T,l=await User_1['default'][U(0x1c0)]({'where':{'email':k}});return!l;}),'password':Yup[S(0x1ca)]()[T(0x1ac)]()['min'](0x5)});try{if('fwrwo'===S(0x1af)){if(k===l)m=n;o[p]=q[r];}else await h[S(0x1b8)]({'email':c,'password':d,'name':e,'tenantId':f});}catch(l){if(S(0x1ba)!==S(0x1ba))return g&&h[T(0x1b4)]?i:{'default':j};else throw new AppError_1['default'](l[S(0x1ae)]);}const i=await User_1[T(0x1bb)][S(0x1bc)]({'email':c,'password':d,'name':e,'profile':profile,'tenantId':f,'configs':g}),j={'id':i['id'],'name':i[T(0x1b5)],'email':i['email'],'profile':i['profile']};return j;};exports['default']=CreateUserService;