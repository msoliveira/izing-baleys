'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0xee;let h=e[f];return h;},b(c,d);}const I=b,J=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=-parseInt(G(0xf9))/0x1+parseInt(H(0xfd))/0x2*(-parseInt(G(0xf0))/0x3)+parseInt(G(0xfb))/0x4+parseInt(H(0x108))/0x5*(parseInt(H(0xfa))/0x6)+parseInt(G(0x104))/0x7*(parseInt(G(0x109))/0x8)+-parseInt(H(0x102))/0x9*(parseInt(G(0xf8))/0xa)+parseInt(G(0xf2))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x2b0cc));var __createBinding=this&&this[I(0x106)]||(Object[J(0x10d)]?function(c,d,e,f){const K=J,L=I;if(f===undefined)f=e;var g=Object[K(0x10a)](d,e);if(!g||(L(0xf1)in g?!d[K(0xf5)]:g['writable']||g[L(0x101)])){if(K(0x10e)===K(0xf6))return e[f];else g={'enumerable':!![],'get':function(){const M=L;if(M(0x105)==='cXUGw')e['default']=f;else return d[e];}};}Object[K(0x114)](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[J(0x10d)]?function(c,d){const N=J;Object[N(0x114)](c,'default',{'enumerable':!![],'value':d});}:function(c,d){c['default']=d;}),__importStar=this&&this['__importStar']||function(c){const O=J,P=I;if(c&&c['__esModule'])return c;var d={};if(c!=null){for(var e in c)if(e!==O(0x110)&&Object['prototype']['hasOwnProperty'][O(0xee)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[I(0x10b)]||function(c){const Q=J;return c&&c[Q(0xf5)]?c:{'default':c};};Object[I(0x114)](exports,J(0xf5),{'value':!![]});const Yup=__importStar(require(J(0xfe))),AppError_1=__importDefault(require('../../errors/AppError')),CampaignContacts_1=__importDefault(require(J(0x10c))),CreateCampaignContactsService=async({campaignContacts:c,campaignId:d})=>{const S=I,U=J,e=(j,k)=>{const R=b;return Math[R(0x112)](Math['random']()*(k-j+0x1))+j;},f=await CampaignContacts_1['default'][S(0xff)]({'where':{'campaignId':d}}),g=c['map'](j=>{const T=S;return{'contactId':j['id'],'campaignId':d,'messageRandom':T(0xf4)+e(0x1,0x3)};}),h=g[U(0xfc)](j=>{const V=S,W=S,k=f?.[V(0xef)](l=>j[V(0x107)]===l['contactId']&&+d===l[V(0xf3)]);if(k===-0x1)return j;}),i=Yup['array']()['of'](Yup[U(0x10f)]()[U(0x111)]({'messageRandom':Yup[S(0x113)]()[S(0x103)](),'campaignId':Yup[U(0x115)]()[S(0x103)](),'contactId':Yup[S(0x115)]()['required']()}));try{await i[S(0xf7)](h);}catch(j){throw new AppError_1[(S(0x110))](j[U(0xf4)]);}try{await CampaignContacts_1[U(0x110)][S(0x100)](h);}catch(k){throw new AppError_1[(U(0x110))](k[S(0xf4)]);}};function a(){const X=['bulkCreate','configurable','3717ZKxMaH','required','14JJkElB','rAkJw','__createBinding','contactId','2370opatIv','653960iFxQGu','getOwnPropertyDescriptor','__importDefault','../../models/CampaignContacts','create','RtZXJ','object','default','shape','floor','string','defineProperty','number','call','findIndex','55395pcAPtH','get','2956206PmBWHg','campaignId','message','__esModule','tujBi','validate','4330xGzNXu','232400dWYiyu','4056Qlefeo','521364FtrBEc','filter','32ujlKQK','yup','findAll'];a=function(){return X;};return a();}exports[I(0x110)]=CreateCampaignContactsService;