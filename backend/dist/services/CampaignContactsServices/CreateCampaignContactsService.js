'use strict';function a(){const X=['4336744LjHJtl','unWye','bulkCreate','findIndex','filter','writable','defineProperty','getOwnPropertyDescriptor','__setModuleDefault','18702ZKpxvj','hasOwnProperty','string','../../errors/AppError','array','default','shape','IsaRL','get','qIrgy','1543728jFHYGN','26YvsTfl','1510nttnjk','configurable','dbEYE','../../models/CampaignContacts','required','1180550dGZRGz','yup','6jTQuod','4970815TTheVz','14WHPzAU','message','__esModule','kUcoL','findAll','prototype','174939Ragdnb','number','object','11685256HfCCWO','map','create','contactId'];a=function(){return X;};return a();}const K=b,L=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=parseInt(G(0x80))/0x1+parseInt(H(0x7a))/0x2*(-parseInt(G(0x8a))/0x3)+-parseInt(H(0x79))/0x4+-parseInt(G(0x83))/0x5*(-parseInt(H(0x82))/0x6)+parseInt(G(0x84))/0x7*(-parseInt(H(0x91))/0x8)+-parseInt(G(0x6f))/0x9*(parseInt(H(0x7b))/0xa)+parseInt(G(0x8d))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xa9b04));var __createBinding=this&&this['__createBinding']||(Object['create']?function(c,d,e,f){const I=b,J=b;if(f===undefined)f=e;var g=Object[I(0x98)](d,e);(!g||(J(0x77)in g?!d[I(0x86)]:g[I(0x96)]||g[J(0x7c)]))&&(g={'enumerable':!![],'get':function(){return d[e];}}),Object['defineProperty'](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this[K(0x6e)]||(Object[L(0x8f)]?function(c,d){const M=K,N=L;Object[M(0x97)](c,M(0x74),{'enumerable':!![],'value':d});}:function(c,d){const O=L;c[O(0x74)]=d;}),__importStar=this&&this['__importStar']||function(c){const P=K,Q=K;if(c&&c[P(0x86)])return c;var d={};if(c!=null){for(var e in c)if(e!==P(0x74)&&Object[Q(0x89)][P(0x70)]['call'](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this['__importDefault']||function(c){return c&&c['__esModule']?c:{'default':c};};Object[K(0x97)](exports,K(0x86),{'value':!![]});function b(c,d){const e=a();return b=function(f,g){f=f-0x6e;let h=e[f];return h;},b(c,d);}const Yup=__importStar(require(K(0x81))),AppError_1=__importDefault(require(L(0x72))),CampaignContacts_1=__importDefault(require(L(0x7e))),CreateCampaignContactsService=async({campaignContacts:c,campaignId:d})=>{const T=K,U=L,e=(j,k)=>{const R=b,S=b;if(R(0x92)!=='unWye')f[S(0x97)](g,R(0x74),{'enumerable':!![],'value':h});else return Math['floor'](Math['random']()*(k-j+0x1))+j;},f=await CampaignContacts_1[T(0x74)][U(0x88)]({'where':{'campaignId':d}}),g=c[T(0x8e)](j=>{return{'contactId':j['id'],'campaignId':d,'messageRandom':'message'+e(0x1,0x3)};}),h=g[U(0x95)](j=>{const V=T,W=U,k=f?.[V(0x94)](l=>j[W(0x90)]===l['contactId']&&+d===l['campaignId']);if(k===-0x1){if(V(0x78)!==V(0x7d))return j;else{if(k===l)m=n;o[p]=q[r];}}}),i=Yup[T(0x73)]()['of'](Yup[U(0x8c)]()[U(0x75)]({'messageRandom':Yup[T(0x71)]()[U(0x7f)](),'campaignId':Yup[U(0x8b)]()['required'](),'contactId':Yup[U(0x8b)]()[U(0x7f)]()}));try{await i['validate'](h);}catch(j){if(U(0x87)===T(0x87))throw new AppError_1[(U(0x74))](j[T(0x85)]);else return{'contactId':f['id'],'campaignId':g,'messageRandom':U(0x85)+h(0x1,0x3)};}try{await CampaignContacts_1[U(0x74)][U(0x93)](h);}catch(l){if(T(0x76)==='KzPlS')e['default']=f;else throw new AppError_1[(U(0x74))](l[T(0x85)]);}};exports[L(0x74)]=CreateCampaignContactsService;