'use strict';const I=b,L=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=-parseInt(G(0x1ad))/0x1*(-parseInt(G(0x1ac))/0x2)+parseInt(G(0x1b0))/0x3*(parseInt(G(0x1ca))/0x4)+-parseInt(G(0x192))/0x5*(parseInt(H(0x19b))/0x6)+-parseInt(H(0x190))/0x7*(-parseInt(H(0x1a3))/0x8)+parseInt(G(0x1c5))/0x9+-parseInt(G(0x1a7))/0xa*(-parseInt(H(0x1cb))/0xb)+-parseInt(H(0x1b4))/0xc;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x4db85));var __createBinding=this&&this[I(0x191)]||(Object['create']?function(c,d,e,f){const J=I,K=I;if(f===undefined)f=e;var g=Object['getOwnPropertyDescriptor'](d,e);(!g||('get'in g?!d[J(0x19f)]:g[J(0x1a8)]||g[J(0x1c3)]))&&(g={'enumerable':!![],'get':function(){return d[e];}}),Object['defineProperty'](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[L(0x1a2)]?function(c,d){const M=L;Object['defineProperty'](c,M(0x1c7),{'enumerable':!![],'value':d});}:function(c,d){const N=I;c[N(0x1c7)]=d;}),__importStar=this&&this[L(0x1ab)]||function(c){const O=I,P=I;if(c&&c[O(0x19f)])return c;var d={};if(c!=null){for(var e in c)if(e!==O(0x1c7)&&Object[O(0x1a6)][P(0x1bd)][O(0x1ae)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[I(0x193)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object[L(0x1aa)](exports,I(0x19f),{'value':!![]}),exports[L(0x1a5)]=exports[I(0x1b1)]=exports[L(0x195)]=exports[L(0x1af)]=exports[L(0x1c2)]=exports['update']=exports['index']=exports[L(0x199)]=void 0x0;const Yup=__importStar(require(L(0x1be))),AppError_1=__importDefault(require('../errors/AppError')),CreateGroupService_1=__importDefault(require(I(0x1c4))),ListGroupService_1=__importDefault(require(I(0x1c1))),UpdateGroupService_1=__importDefault(require(I(0x198))),DeleteGroupService_1=__importDefault(require(I(0x1b2))),ListUserGroupService_1=__importDefault(require(L(0x1ba))),FindUserByGroupService_1=__importDefault(require('../services/UserGroupService/FindUserByGroupService')),UsersGroups_1=__importDefault(require(I(0x1b3))),store=async(c,d)=>{const Q=I,R=L,{tenantId:e}=c[Q(0x18e)];if(c[R(0x18e)][R(0x1c8)]!=='admin')throw new AppError_1[(R(0x1c7))]('ERR_NO_PERMISSION',0x193);const f={...c['body'],'userId':c[R(0x18e)]['id'],'tenantId':e},g=Yup[R(0x1a9)]()['shape']({'group':Yup['string']()[Q(0x1cc)](),'userId':Yup[R(0x1bc)]()[R(0x1cc)](),'tenantId':Yup['number']()['required']()});try{await g[Q(0x1a4)](f);}catch(i){if(R(0x1b7)!=='vBilq')throw new d[(Q(0x1c7))](R(0x194),0x193);else throw new AppError_1[(R(0x1c7))](i['message']);}const h=await(0x0,CreateGroupService_1['default'])(f);return d[R(0x1a0)](0xc8)[Q(0x19d)](h);};exports[I(0x199)]=store;const index=async(c,d)=>{const S=L,T=I,{tenantId:e}=c[S(0x18e)],f=await(0x0,ListGroupService_1[S(0x1c7)])({'tenantId':e});return d[T(0x1a0)](0xc8)[T(0x19d)](f);};exports[I(0x1c9)]=index;const update=async(c,d)=>{const U=I,V=L,{tenantId:e}=c[U(0x18e)];if(c[V(0x18e)][U(0x1c8)]!=='admin'){if(U(0x19e)!==U(0x19e))f[V(0x1aa)](g,V(0x1c7),{'enumerable':!![],'value':h});else throw new AppError_1[(V(0x1c7))](U(0x194),0x193);}const f={...c['body'],'userId':c[V(0x18e)]['id'],'tenantId':e},g=Yup[U(0x1a9)]()[U(0x1b9)]({'group':Yup[V(0x1a1)]()[V(0x1cc)](),'isActive':Yup[U(0x1b5)]()[V(0x1cc)](),'userId':Yup[V(0x1bc)]()['required']()});try{await g[U(0x1a4)](f);}catch(k){if(U(0x18f)==='hTSrj')throw new d[(V(0x1c7))](V(0x194),0x193);else throw new AppError_1['default'](k[U(0x1b6)]);}const {groupId:h}=c[V(0x196)],i=await(0x0,UpdateGroupService_1['default'])({'groupData':f,'groupId':h});return d[V(0x1a0)](0xc8)[V(0x19d)](i);};exports[I(0x1bb)]=update;const remove=async(c,d)=>{const W=L,X=L,{tenantId:e}=c[W(0x18e)];if(c[W(0x18e)][X(0x1c8)]!==X(0x197))throw new AppError_1[(W(0x1c7))]('ERR_NO_PERMISSION',0x193);const {groupId:f}=c[X(0x196)];return await(0x0,DeleteGroupService_1[W(0x1c7)])({'id':f,'tenantId':e}),d[X(0x1a0)](0xc8)[X(0x19d)]({'message':'Group\x20deleted'});};exports['remove']=remove;const listUserGroups=async(c,d)=>{const Y=L,Z=I,{tenantId:e,id:f}=c[Y(0x18e)],g=await(0x0,ListUserGroupService_1[Y(0x1c7)])({'tenantId':e,'userId':f});return d[Y(0x1a0)](0xc8)['json'](g);};exports[I(0x1af)]=listUserGroups;function b(c,d){const e=a();return b=function(f,g){f=f-0x18e;let h=e[f];return h;},b(c,d);}const listUserbyGroup=async(c,d)=>{const a0=I,a1=L,{groupId:e}=c[a0(0x196)],f=await(0x0,FindUserByGroupService_1[a0(0x1c7)])(Number(e));return d[a1(0x1a0)](0xc8)[a1(0x19d)](f);};function a(){const a6=['__importStar','4qwqJTS','54882XTgCCK','call','listUserGroups','507921SKAMPw','storeUser','../services/GroupServices/DeleteGroupService','../models/UsersGroups','8325156BNRlIq','boolean','message','vBilq','findOne','shape','../services/GroupServices/ListUserGroupService','update','number','hasOwnProperty','yup','HOfRs','USER_GRPUP_ALREADY_EXIST','../services/GroupServices/ListGroupService','remove','configurable','../services/GroupServices/CreateGroupService','2508687hLpxba','USER_GROUP_NOT_FOUND','default','profile','index','8LAmqMH','2959VSCgpr','required','user','nJiZF','37982ABSmcC','__createBinding','158980asDfvz','__importDefault','ERR_NO_PERMISSION','listUserbyGroup','params','admin','../services/GroupServices/UpdateGroupService','store','destroy','6GaXpqq','wNJGO','json','ZVxbj','__esModule','status','string','create','216QZXkOG','validate','removeUser','prototype','6330lPPHZA','writable','object','defineProperty'];a=function(){return a6;};return a();}exports['listUserbyGroup']=listUserbyGroup;const storeUser=async(c,d)=>{const a2=I,a3=L,{groupId:e,userId:f}=c['body'];let g=await UsersGroups_1[a2(0x1c7)][a3(0x1b8)]({'where':{'userId':f,'groupId':e}});if(g){if(a2(0x1bf)!==a3(0x19c))throw new AppError_1[(a2(0x1c7))](a2(0x1c0),0x190);else f={'enumerable':!![],'get':function(){return i[j];}};}return g=await UsersGroups_1[a2(0x1c7)][a2(0x1a2)]({'userId':f,'groupId':e}),d[a2(0x1a0)](0xc8)[a2(0x19d)](g);};exports['storeUser']=storeUser;const removeUser=async(c,d)=>{const a4=L,a5=L,{groupId:e,userId:f}=c[a4(0x196)],g=await UsersGroups_1[a4(0x1c7)][a5(0x1b8)]({'where':{'userId':f,'groupId':e}});if(!g)throw new AppError_1[(a4(0x1c7))](a4(0x1c6),0x194);return await g[a5(0x19a)](),d[a5(0x1a0)](0xc8)[a4(0x19d)](g);};exports[L(0x1a5)]=removeUser;