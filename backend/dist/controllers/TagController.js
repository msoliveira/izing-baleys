'use strict';function a(){const Z=['../services/TagServices/DeleteTagService','store','Tag\x20deleted','2SdebCa','33832HmxxTn','remove','object','writable','__esModule','index','configurable','params','192324UDObAG','prototype','defineProperty','110CRiYjg','FSYVi','update','19496NNLSHb','gmjPN','getOwnPropertyDescriptor','call','shape','json','yup','admin','body','742JBkbzl','number','../services/TagServices/ListTagService','string','__importDefault','user','3830277FUSaxF','boolean','THqlp','18lyJNBD','required','hasOwnProperty','true','../errors/AppError','message','cBqwN','649030XgDMAz','268501NTdCqR','jBHuX','default','profile','ERR_NO_PERMISSION','status','get','create','796014NtYpLp'];a=function(){return Z;};return a();}const I=b,P=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=-parseInt(G(0x15c))/0x1*(-parseInt(G(0x168))/0x2)+parseInt(H(0x164))/0x3+parseInt(G(0x169))/0x4*(-parseInt(H(0x13f))/0x5)+parseInt(H(0x13c))/0x6+parseInt(H(0x14b))/0x7*(parseInt(G(0x142))/0x8)+parseInt(G(0x154))/0x9*(-parseInt(G(0x15b))/0xa)+-parseInt(H(0x151))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x2717e));var __createBinding=this&&this['__createBinding']||(Object[I(0x163)]?function(c,d,e,f){const J=I,K=I;if(f===undefined)f=e;var g=Object['getOwnPropertyDescriptor'](d,e);if(!g||(J(0x162)in g?!d[K(0x16d)]:g[J(0x16c)]||g[K(0x16f)])){if(J(0x153)===J(0x15a)){if(p===q)r=s;var i=t[J(0x144)](u,v);(!i||('get'in i?!w[K(0x16d)]:i[J(0x16c)]||i[J(0x16f)]))&&(i={'enumerable':!![],'get':function(){return i[F];}}),z[K(0x13e)](A,B,i);}else g={'enumerable':!![],'get':function(){return d[e];}};}Object[J(0x13e)](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(c,d){const L=I;Object[L(0x13e)](c,'default',{'enumerable':!![],'value':d});}:function(c,d){const M=I;c[M(0x15e)]=d;}),__importStar=this&&this['__importStar']||function(c){const N=I,O=I;if(c&&c['__esModule'])return c;var d={};if(c!=null){for(var e in c)if(e!=='default'&&Object[N(0x13d)][N(0x156)][O(0x145)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[P(0x14f)]||function(c){const Q=P;return c&&c[Q(0x16d)]?c:{'default':c};};function b(c,d){const e=a();return b=function(f,g){f=f-0x13b;let h=e[f];return h;},b(c,d);}Object['defineProperty'](exports,I(0x16d),{'value':!![]}),exports[P(0x16a)]=exports[P(0x141)]=exports[I(0x16e)]=exports[I(0x166)]=void 0x0;const Yup=__importStar(require(P(0x148))),AppError_1=__importDefault(require(P(0x158))),CreateTagService_1=__importDefault(require('../services/TagServices/CreateTagService')),ListTagService_1=__importDefault(require(I(0x14d))),DeleteTagService_1=__importDefault(require(P(0x165))),UpdateTagService_1=__importDefault(require('../services/TagServices/UpdateTagService')),store=async(c,d)=>{const R=P,S=P,{tenantId:e}=c[R(0x150)];if(c[S(0x150)][R(0x15f)]!=='admin')throw new AppError_1[(R(0x15e))](R(0x160),0x193);const f={...c[R(0x14a)],'userId':c[S(0x150)]['id'],'tenantId':e},g=Yup[R(0x16b)]()['shape']({'tag':Yup[R(0x14e)]()[R(0x155)](),'color':Yup[S(0x14e)]()['required'](),'userId':Yup['number']()['required'](),'tenantId':Yup['number']()[R(0x155)]()});try{if(S(0x15d)!=='jBHuX')return g&&h['__esModule']?i:{'default':j};else await g['validate'](f);}catch(j){throw new AppError_1[(R(0x15e))](j['message']);}const h=await(0x0,CreateTagService_1[R(0x15e)])(f);return d[R(0x161)](0xc8)['json'](h);};exports[P(0x166)]=store;const index=async(c,d)=>{const T=P,U=P,{tenantId:e}=c[T(0x150)],{isActive:f}=c['query'],g=await(0x0,ListTagService_1[T(0x15e)])({'tenantId':e,'isActive':f?f==U(0x157):![]});return d[T(0x161)](0xc8)[T(0x147)](g);};exports['index']=index;const update=async(c,d)=>{const V=P,W=P,{tenantId:e}=c[V(0x150)];if(c[W(0x150)][V(0x15f)]!==V(0x149))throw new AppError_1['default'](W(0x160),0x193);const f={...c[W(0x14a)],'userId':c[V(0x150)]['id'],'tenantId':e},g=Yup['object']()[W(0x146)]({'tag':Yup['string']()['required'](),'color':Yup[V(0x14e)]()[W(0x155)](),'isActive':Yup[V(0x152)]()[W(0x155)](),'userId':Yup[W(0x14c)]()[W(0x155)]()});try{W(0x140)===W(0x140)?await g['validate'](f):e[V(0x15e)]=f;}catch(k){throw new AppError_1[(V(0x15e))](k[W(0x159)]);}const {tagId:h}=c[V(0x13b)],i=await(0x0,UpdateTagService_1[V(0x15e)])({'tagData':f,'tagId':h});return d[W(0x161)](0xc8)[V(0x147)](i);};exports[I(0x141)]=update;const remove=async(c,d)=>{const X=P,Y=I,{tenantId:e}=c[X(0x150)];if(c['user'][X(0x15f)]!==X(0x149)){if(X(0x143)!=='gmjPN')throw new e[(X(0x15e))](f[X(0x159)]);else throw new AppError_1[(X(0x15e))](Y(0x160),0x193);}const {tagId:f}=c[X(0x13b)];return await(0x0,DeleteTagService_1['default'])({'id':f,'tenantId':e}),d[X(0x161)](0xc8)[Y(0x147)]({'message':Y(0x167)});};exports[I(0x16a)]=remove;