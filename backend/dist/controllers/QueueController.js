'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x7c;let h=e[f];return h;},b(c,d);}const I=b,J=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=parseInt(G(0x9e))/0x1*(-parseInt(G(0xac))/0x2)+parseInt(G(0x7f))/0x3+parseInt(H(0xaf))/0x4+-parseInt(G(0xae))/0x5+-parseInt(H(0xa5))/0x6+-parseInt(G(0x8d))/0x7*(-parseInt(G(0x8f))/0x8)+parseInt(G(0x7e))/0x9*(parseInt(H(0xb0))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x7643c));var __createBinding=this&&this[I(0x91)]||(Object[J(0x98)]?function(c,d,e,f){const K=I,L=I;if(f===undefined)f=e;var g=Object[K(0x9c)](d,e);(!g||(K(0x82)in g?!d[L(0xa1)]:g['writable']||g[K(0x87)]))&&(g={'enumerable':!![],'get':function(){const M=L,N=L;return M(0x80)==='sQJST'?g&&h[N(0xa1)]?i:{'default':j}:d[e];}}),Object[K(0xaa)](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[J(0x98)]?function(c,d){const O=I,P=I;Object[O(0xaa)](c,P(0x7c),{'enumerable':!![],'value':d});}:function(c,d){const Q=J;c[Q(0x7c)]=d;}),__importStar=this&&this[J(0x92)]||function(c){const R=I,S=I;if(c&&c[R(0xa1)])return c;var d={};if(c!=null){for(var e in c)if(e!==S(0x7c)&&Object[R(0x85)][R(0xa4)][S(0x8a)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[J(0x96)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object[I(0xaa)](exports,I(0xa1),{'value':!![]}),exports['listUserQueues']=exports['remove']=exports['update']=exports[J(0x94)]=exports[I(0x9b)]=void 0x0;const Yup=__importStar(require(I(0xa0))),AppError_1=__importDefault(require(J(0x88))),CreateQueueService_1=__importDefault(require(I(0x8c))),ListQueueService_1=__importDefault(require(J(0xad))),DeleteQueueService_1=__importDefault(require(J(0xa3))),UpdateQueueService_1=__importDefault(require(I(0x90))),ListUserQueueService_1=__importDefault(require(I(0xa7))),store=async(c,d)=>{const T=I,U=J,{tenantId:e}=c[T(0x8e)];if(c[T(0x8e)][U(0x83)]!==U(0x8b))throw new AppError_1['default']('ERR_NO_PERMISSION',0x193);const f={...c[U(0xa6)],'userId':c[T(0x8e)]['id'],'tenantId':e},g=Yup['object']()['shape']({'queue':Yup[T(0x93)]()[T(0x9d)](),'userId':Yup[T(0x84)]()[T(0x9d)](),'tenantId':Yup[U(0x84)]()[T(0x9d)]()});try{await g[U(0x97)](f);}catch(i){if(U(0x9a)===U(0x9a))throw new AppError_1['default'](i[T(0x7d)]);else{if(n&&o[T(0xa1)])return p;var k={};if(q!=null){for(var l in r)if(l!==U(0x7c)&&s[T(0x85)]['hasOwnProperty'][T(0x8a)](t,l))u(k,v,l);}return w(k,x),k;}}const h=await(0x0,CreateQueueService_1[T(0x7c)])(f);return d[T(0x89)](0xc8)[U(0x86)](h);};exports[I(0x9b)]=store;const index=async(c,d)=>{const V=I,W=J,{tenantId:e}=c[V(0x8e)],f=await(0x0,ListQueueService_1[V(0x7c)])({'tenantId':e});return d[W(0x89)](0xc8)[V(0x86)](f);};exports[J(0x94)]=index;const update=async(c,d)=>{const X=J,Y=I,{tenantId:e}=c[X(0x8e)];if(c['user'][X(0x83)]!==Y(0x8b))throw new AppError_1[(Y(0x7c))](X(0xa9),0x193);const f={...c[X(0xa6)],'userId':c['user']['id'],'tenantId':e},g=Yup[X(0x9f)]()[Y(0xab)]({'queue':Yup['string']()[Y(0x9d)](),'isActive':Yup['boolean']()[Y(0x9d)](),'userId':Yup['number']()[Y(0x9d)]()});try{if('utcAX'!=='OTAEB')await g[X(0x97)](f);else{if(p===q)r=s;var k=t[Y(0x9c)](u,v);(!k||(X(0x82)in k?!w[X(0xa1)]:k[Y(0x81)]||k[Y(0x87)]))&&(k={'enumerable':!![],'get':function(){return k[F];}}),z[Y(0xaa)](A,B,k);}}catch(k){throw new AppError_1['default'](k[X(0x7d)]);}const {queueId:h}=c[X(0x99)],i=await(0x0,UpdateQueueService_1[Y(0x7c)])({'queueData':f,'queueId':h});return d['status'](0xc8)[Y(0x86)](i);};exports[J(0xa2)]=update;const remove=async(c,d)=>{const Z=I,a0=J,{tenantId:e}=c['user'];if(c[Z(0x8e)][Z(0x83)]!==a0(0x8b))throw new AppError_1[(a0(0x7c))](Z(0xa9),0x193);const {queueId:f}=c['params'];return await(0x0,DeleteQueueService_1['default'])({'id':f,'tenantId':e}),d[Z(0x89)](0xc8)['json']({'message':'Queue\x20deleted'});};exports[I(0xa8)]=remove;function a(){const a3=['store','getOwnPropertyDescriptor','required','3eiuPDJ','object','yup','__esModule','update','../services/QueueServices/DeleteQueueService','hasOwnProperty','5273802Ctjqyi','body','../services/QueueServices/ListUserQueueService','remove','ERR_NO_PERMISSION','defineProperty','shape','541852GiaLuM','../services/QueueServices/ListQueueService','2552040kRYJru','3388904CUfMon','2363320thXTbQ','default','message','18IzzLLI','2422338RMsrmh','xtKgN','writable','get','profile','number','prototype','json','configurable','../errors/AppError','status','call','admin','../services/QueueServices/CreateQueueService','355873DEBxaB','user','88siEyuo','../services/QueueServices/UpdateQueueService','__createBinding','__importStar','string','index','listUserQueues','__importDefault','validate','create','params','tIANB'];a=function(){return a3;};return a();}const listUserQueues=async(c,d)=>{const a1=I,a2=I,{tenantId:e,id:f}=c[a1(0x8e)],g=await(0x0,ListUserQueueService_1[a2(0x7c)])({'tenantId':e,'userId':f});return d[a1(0x89)](0xc8)[a2(0x86)](g);};exports[I(0x95)]=listUserQueues;