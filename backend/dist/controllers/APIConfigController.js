'use strict';const M=b,N=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=-parseInt(G(0x137))/0x1+-parseInt(G(0x14b))/0x2+parseInt(G(0x138))/0x3+parseInt(G(0x132))/0x4*(-parseInt(G(0x13b))/0x5)+-parseInt(G(0x147))/0x6*(-parseInt(H(0x13a))/0x7)+-parseInt(H(0x116))/0x8+parseInt(G(0x123))/0x9*(parseInt(H(0x124))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x3453b));var __createBinding=this&&this['__createBinding']||(Object['create']?function(c,d,e,f){const I=b,J=b;if(f===undefined)f=e;var g=Object[I(0x114)](d,e);(!g||(I(0x117)in g?!d[J(0x11b)]:g['writable']||g[J(0x11d)]))&&(g={'enumerable':!![],'get':function(){const K=J,L=J;if(K(0x129)!==L(0x14a))return d[e];else throw new e[(L(0x10c))](f[K(0x13d)]);}}),Object[I(0x13e)](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this[M(0x11c)]||(Object[N(0x115)]?function(c,d){const O=M;Object['defineProperty'](c,O(0x10c),{'enumerable':!![],'value':d});}:function(c,d){c['default']=d;}),__importStar=this&&this[N(0x134)]||function(c){const P=M,Q=N;if(c&&c['__esModule'])return c;var d={};if(c!=null){for(var e in c)if(e!==P(0x10c)&&Object[Q(0x136)][P(0x139)][Q(0x10f)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[M(0x145)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object['defineProperty'](exports,M(0x11b),{'value':!![]}),exports[M(0x125)]=exports[N(0x12e)]=exports[N(0x149)]=exports['index']=exports[N(0x10b)]=void 0x0;function a(){const a1=['jUgFg','YweYf','writable','admin','url','vBmHa','remove','params','tenantId','../errors/AppError','188nifCaT','sessionId','__importStar','../services/ApiConfigServices/ListApiConfigService','prototype','72916uWiBIY','353148YGZybV','hasOwnProperty','407449GPiYaR','8665deaNWR','vddMV','message','defineProperty','../services/ApiConfigServices/RenewApiConfigTokenService','profile','json','HUjKA','uFALe','string','__importDefault','vPxEq','12majrEy','body','update','xAIPZ','371496oiunan','boolean','store','default','userId','IbSqG','call','status','API\x20Config\x20Deleted','validate','../services/ApiConfigServices/CreateApiConfigService','getOwnPropertyDescriptor','create','2134200FVQcQE','get','user','../services/ApiConfigServices/DeleteApiConfigService','required','__esModule','__setModuleDefault','configurable','number','../services/ApiConfigServices/UpdateApiConfigService','shape','nullable','yup','5283819YSxPAZ','10QaaFil','renewTokenApi','object','ERR_NO_PERMISSION'];a=function(){return a1;};return a();}const Yup=__importStar(require(N(0x122))),CreateApiConfigService_1=__importDefault(require(M(0x113))),ListApiConfigService_1=__importDefault(require(N(0x135))),AppError_1=__importDefault(require(M(0x131))),UpdateApiConfigService_1=__importDefault(require(M(0x11f))),DeleteApiConfigService_1=__importDefault(require(N(0x119))),RenewApiConfigTokenService_1=__importDefault(require(M(0x13f))),store=async(c,d)=>{const R=M,S=N,{tenantId:e,id:f}=c[R(0x118)];if(c['user'][S(0x140)]!==R(0x12b))throw new AppError_1[(S(0x10c))](R(0x127),0x193);const g={...c[R(0x148)],'userId':f,'tenantId':e},h=Yup[R(0x126)]()[S(0x120)]({'name':Yup[R(0x144)]()[S(0x11a)](),'sessionId':Yup['number']()[S(0x11a)](),'urlServiceStatus':Yup[S(0x144)]()[S(0x12c)]()[S(0x121)](),'urlMessageStatus':Yup[S(0x144)]()[R(0x12c)]()[S(0x121)](),'userId':Yup['number']()[S(0x11a)](),'tenantId':Yup['number']()['required']()});try{await h[S(0x112)](g);}catch(j){throw new AppError_1[(S(0x10c))](j['message']);}const i=await(0x0,CreateApiConfigService_1[R(0x10c)])(g);return d[R(0x110)](0xc8)['json'](i);};exports[N(0x10b)]=store;const index=async(c,d)=>{const T=N,U=N,{tenantId:e}=c['user'];if(c[T(0x118)][T(0x140)]!==U(0x12b))throw new AppError_1[(T(0x10c))](U(0x127),0x193);const f=await(0x0,ListApiConfigService_1['default'])({'tenantId':e});return d[T(0x110)](0xc8)[U(0x141)](f);};exports['index']=index;const update=async(c,d)=>{const V=M,W=N;if(c[V(0x118)]['profile']!==W(0x12b)){if(V(0x12d)!==W(0x12d))f={'enumerable':!![],'get':function(){return i[j];}};else throw new AppError_1[(W(0x10c))](V(0x127),0x193);}const {tenantId:e,id:f}=c['user'],{apiId:g}=c[V(0x12f)],h={...c[W(0x148)],'userId':f,'tenantId':e},i=Yup[W(0x126)]()['shape']({'name':Yup[V(0x144)]()['required'](),'sessionId':Yup['number']()[W(0x11a)](),'urlServiceStatus':Yup[V(0x144)]()[W(0x12c)]()[V(0x121)](),'urlMessageStatus':Yup[V(0x144)]()[V(0x12c)]()['nullable'](),'userId':Yup['number']()[V(0x11a)](),'tenantId':Yup['number']()[W(0x11a)](),'isActive':Yup[V(0x10a)]()[V(0x11a)]()});try{if(V(0x10e)!==W(0x13c))await i[W(0x112)](h);else throw new d['default'](W(0x127),0x193);}catch(m){if(V(0x142)===W(0x142))throw new AppError_1['default'](m['message']);else throw new d[(W(0x10c))](V(0x127),0x193);}const j=await(0x0,UpdateApiConfigService_1[V(0x10c)])({'apiData':h,'apiId':g,'tenantId':e});return d[W(0x110)](0xc8)[V(0x141)](j);};function b(c,d){const e=a();return b=function(f,g){f=f-0x10a;let h=e[f];return h;},b(c,d);}exports[M(0x149)]=update;const remove=async(c,d)=>{const X=N,Y=M;if(c[X(0x118)][X(0x140)]!=='admin'){if(Y(0x143)!==Y(0x128))throw new AppError_1[(Y(0x10c))]('ERR_NO_PERMISSION',0x193);else throw new d[(Y(0x10c))](Y(0x127),0x193);}const {tenantId:e}=c[X(0x118)],{apiId:f}=c[Y(0x12f)];return await(0x0,DeleteApiConfigService_1[Y(0x10c)])({'apiId':f,'tenantId':e}),d['status'](0xc8)['json']({'message':X(0x111)});};exports['remove']=remove;const renewTokenApi=async(c,d)=>{const Z=N,a0=N;if(c[Z(0x118)][a0(0x140)]!==a0(0x12b)){if(a0(0x146)==='tSFOk'){if(p===q)r=s;var l=t[Z(0x114)](u,v);(!l||(a0(0x117)in l?!w[a0(0x11b)]:l[a0(0x12a)]||l[Z(0x11d)]))&&(l={'enumerable':!![],'get':function(){return l[F];}}),z[Z(0x13e)](A,B,l);}else throw new AppError_1[(a0(0x10c))](a0(0x127),0x193);}const {tenantId:e,id:f}=c[Z(0x118)],{apiId:g}=c[Z(0x12f)],h={...c['body'],'userId':f,'tenantId':e},i=Yup[a0(0x126)]()[Z(0x120)]({'sessionId':Yup['number']()[a0(0x11a)](),'userId':Yup[a0(0x11e)]()['required'](),'tenantId':Yup[a0(0x11e)]()[Z(0x11a)]()});try{await i[a0(0x112)](h);}catch(l){throw new AppError_1[(a0(0x10c))](l[Z(0x13d)]);}const j=await(0x0,RenewApiConfigTokenService_1[a0(0x10c)])({'apiId':g,'userId':h[Z(0x10d)],'sessionId':h[Z(0x133)],'tenantId':h[Z(0x130)]});return d[a0(0x110)](0xc8)[a0(0x141)](j);};exports[N(0x125)]=renewTokenApi;