'use strict';const r=b,t=b;(function(c,d){const p=b,q=b,e=c();while(!![]){try{const f=parseInt(p(0x136))/0x1*(parseInt(q(0x14d))/0x2)+parseInt(p(0x151))/0x3+-parseInt(p(0x13f))/0x4*(-parseInt(q(0x13c))/0x5)+-parseInt(q(0x159))/0x6+-parseInt(q(0x13e))/0x7*(-parseInt(p(0x12d))/0x8)+parseInt(p(0x142))/0x9+-parseInt(q(0x15d))/0xa*(parseInt(q(0x131))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x1ecdb));var __importDefault=this&&this[r(0x14e)]||function(c){const s=r;return c&&c[s(0x132)]?c:{'default':c};};Object[r(0x140)](exports,t(0x132),{'value':!![]}),exports[r(0x12c)]=exports[r(0x144)]=exports['storeChannel']=exports[r(0x13a)]=exports['updateSettings']=exports[r(0x156)]=exports[r(0x14c)]=exports[r(0x154)]=exports['updateUser']=exports[t(0x15b)]=exports[r(0x138)]=exports[t(0x14a)]=void 0x0;const socket_1=require(r(0x141)),AdminListChatFlowService_1=__importDefault(require('../services/AdminServices/AdminListChatFlowService')),AdminListSettingsService_1=__importDefault(require(r(0x14f))),AdminListTenantsService_1=__importDefault(require(t(0x135))),AdminListUsersService_1=__importDefault(require('../services/AdminServices/AdminListUsersService')),AdminListChannelsService_1=__importDefault(require(t(0x12e))),AdminUpdateUserService_1=__importDefault(require(r(0x13d))),UpdateSettingService_1=__importDefault(require(t(0x149))),AppError_1=__importDefault(require(r(0x152))),CreateWhatsAppService_1=__importDefault(require('../services/WhatsappService/CreateWhatsAppService')),CreateUserService_1=__importDefault(require('../services/UserServices/CreateUserService')),AdminCreateTenantService_1=require(t(0x139)),AdminStatusTenant_1=__importDefault(require(t(0x133))),AdminUpdateTenantService_1=__importDefault(require('../services/AdminServices/AdminUpdateTenantService')),AdminListUsersByTenantService_1=__importDefault(require(t(0x145))),store=async(c,d)=>{const u=r,v=r,{tenantName:e,status:f,email:g,password:h,name:i,cnpj:j,maxUsers:k,maxConnections:l}=c[u(0x137)],{tenantId:m}=c[u(0x134)],n=await(0x0,AdminCreateTenantService_1[u(0x12f)])({'name':e,'status':v(0x150),'cnpj':j,'tenantId':m,'maxUsers':k,'maxConnections':l}),o=await(0x0,CreateUserService_1['default'])({'email':g,'password':h,'name':i,'tenantId':n['id'],'profile':'admin','configs':{'filtrosAtendimento':{'searchParam':'','pageNumber':0x1,'status':[v(0x153),'pending'],'showAll':!![],'count':null,'queuesIds':[],'withUnreadMessages':![],'isNotAssignedUser':![],'includeNotQueueDefined':!![]},'isDark':![]}});return d[u(0x15a)](0xc8)[v(0x15c)]({'tenant':n,'user':o});};exports[r(0x14a)]=store;const indexUsers=async(c,d)=>{const w=r,x=r,{searchParam:e,pageNumber:f}=c[w(0x155)],{users:g,count:h,hasMore:i}=await(0x0,AdminListUsersService_1[w(0x146)])({'searchParam':e,'pageNumber':f});return d[w(0x15a)](0xc8)[w(0x15c)]({'users':g,'count':h,'hasMore':i});};exports[r(0x138)]=indexUsers;const getUsersByTenant=async(c,d)=>{const y=t,z=r,{tenantId:e}=c['params'],f=await(0x0,AdminListUsersByTenantService_1[y(0x146)])(e);return d[z(0x15a)](0xc8)[z(0x15c)]({'users':f});};exports[t(0x15b)]=getUsersByTenant;const updateUser=async(c,d)=>{const A=r,B=t,e=c[A(0x137)],{userId:f}=c[A(0x15e)],g=await(0x0,AdminUpdateUserService_1[A(0x146)])({'userData':e,'userId':f}),h=(0x0,socket_1[A(0x148)])();return g&&h['emit'](g['tenantId']+B(0x147),{'action':B(0x14b),'user':g}),d[A(0x15a)](0xc8)[B(0x15c)](g);};exports['updateUser']=updateUser;const indexTenants=async(c,d)=>{const C=t,D=r,{tenantId:e}=c['user'],f=await(0x0,AdminListTenantsService_1[C(0x146)])(e);return d[C(0x15a)](0xc8)[D(0x15c)](f);};exports[r(0x154)]=indexTenants;const indexChatFlow=async(c,d)=>{const E=t,F=t,{tenantId:e}=c['params'],f=await(0x0,AdminListChatFlowService_1[E(0x146)])({'tenantId':e});return d['status'](0xc8)[E(0x15c)](f);};exports[t(0x14c)]=indexChatFlow;const indexSettings=async(c,d)=>{const G=t,H=r,{tenantId:e}=c[G(0x15e)],f=await(0x0,AdminListSettingsService_1[G(0x146)])(e);return d[H(0x15a)](0xc8)[G(0x15c)](f);};exports[r(0x156)]=indexSettings;const updateSettings=async(c,d)=>{const I=r,J=t,{tenantId:e}=c[I(0x15e)],{value:f,key:g}=c[I(0x137)],h=await(0x0,UpdateSettingService_1[I(0x146)])({'key':g,'value':f,'tenantId':e}),i=(0x0,socket_1[I(0x148)])();return i[I(0x130)](e+J(0x143),{'action':I(0x14b),'setting':h}),d['status'](0xc8)[I(0x15c)](h);};exports[r(0x12b)]=updateSettings;const indexChannels=async(c,d)=>{const K=r,L=t,{tenantId:e}=c['query'],f=await(0x0,AdminListChannelsService_1[K(0x146)])({'tenantId':e});return d[L(0x15a)](0xc8)[K(0x15c)](f);};function a(){const S=['332CbcvAC','defineProperty','../libs/socket','196308Ebxdnt',':settings','updateStatusEmpresa','../services/AdminServices/AdminListUsersByTenantService','default',':user','getIO','../services/SettingServices/UpdateSettingService','store','update','indexChatFlow','22wtbAYL','__importDefault','../services/AdminServices/AdminListSettingsService','active','470745FLaeHA','../errors/AppError','open','indexTenants','query','indexSettings','storeChannel','DISCONNECTED','1060986ejFEin','status','getUsersByTenant','json','140oAYRUL','params','updateSettings','adminUpdateTenant','8PFVqWk','../services/AdminServices/AdminListChannelsService','CreateTenantService','emit','270215XQLMwb','__esModule','../services/AdminServices/AdminStatusTenant','user','../services/AdminServices/AdminListTenantsService','20282HCotcQ','body','indexUsers','../services/AdminServices/AdminCreateTenantService','indexChannels','Ação\x20não\x20permitida','13610oWcqLA','../services/AdminServices/AdminUpdateUserService','134099ZeDYJO'];a=function(){return S;};return a();}exports[t(0x13a)]=indexChannels;function b(c,d){const e=a();return b=function(f,g){f=f-0x12b;let h=e[f];return h;},b(c,d);}const storeChannel=async(c,d)=>{const M=r,N=r,{name:e,tenantId:f,tokenTelegram:g,instagramUser:h,instagramKey:i,type:j,wabaBSP:k,tokenAPI:l}=c[M(0x137)],m={'name':e,'status':N(0x158),'tenantId':f,'tokenTelegram':g,'instagramUser':h,'instagramKey':i,'type':j,'wabaBSP':k,'tokenAPI':l},n=await(0x0,CreateWhatsAppService_1['default'])(m);return d[M(0x15a)](0xc8)[N(0x15c)](n);};exports[r(0x157)]=storeChannel;const updateStatusEmpresa=async(c,d)=>{const O=r,P=r,{tenantId:e}=c['params'],{status:f}=c['body'];if(e=='1')throw new AppError_1[(O(0x146))](P(0x13b));const g=await(0x0,AdminStatusTenant_1[P(0x146)])({'id':e,'status':f});return d['status'](0xc8)[O(0x15c)](g);};exports[r(0x144)]=updateStatusEmpresa;const adminUpdateTenant=async(c,d)=>{const Q=r,R=t,{tenantId:e}=c[Q(0x15e)],{name:f,cnpj:g,maxUsers:h,maxConnections:i}=c[R(0x137)];if(e=='1')throw new AppError_1[(Q(0x146))](R(0x13b));const j=await(0x0,AdminUpdateTenantService_1[R(0x146)])({'id':e,'name':f,'cnpj':g,'maxUsers':h,'maxConnections':i});return d['status'](0xc8)['json'](j);};exports[r(0x12c)]=adminUpdateTenant;