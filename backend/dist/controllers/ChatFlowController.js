'use strict';function a(){const x=['133JUifnc','index','profile','admin','params','2dyWnGC','235311aucjLe','../services/ChatFlowServices/ListChatFlowService','3350472zzScDw','../services/ChatFlowServices/CreateChatFlowService','Flow\x20deleted','default','432fUtHSS','92QQliLb','243531XRQzqc','status','user','name','json','10WJSseR','__importDefault','78730VcAdjt','defineProperty','body','update','__esModule','store','isReactive','4137243bnVUwY','4120272LkwTGO'];a=function(){return x;};return a();}const m=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=-parseInt(k(0x1b6))/0x1*(-parseInt(l(0x1b5))/0x2)+-parseInt(k(0x1be))/0x3+parseInt(l(0x1bd))/0x4*(-parseInt(l(0x1a7))/0x5)+-parseInt(l(0x1bc))/0x6*(-parseInt(k(0x1b0))/0x7)+parseInt(k(0x1b8))/0x8+parseInt(l(0x1af))/0x9+parseInt(k(0x1a5))/0xa*(-parseInt(k(0x1ae))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x47bd8));var __importDefault=this&&this[m(0x1a6)]||function(c){const n=m;return c&&c[n(0x1ab)]?c:{'default':c};};function b(c,d){const e=a();return b=function(f,g){f=f-0x1a3;let h=e[f];return h;},b(c,d);}Object[o(0x1a8)](exports,o(0x1ab),{'value':!![]}),exports['remove']=exports[o(0x1aa)]=exports[o(0x1b1)]=exports[o(0x1ac)]=void 0x0;const CreateChatFlowService_1=__importDefault(require(m(0x1b9))),ListChatFlowService_1=__importDefault(require(o(0x1b7))),AppError_1=__importDefault(require('../errors/AppError')),UpdateChatFlowService_1=__importDefault(require('../services/ChatFlowServices/UpdateChatFlowService')),DeleteChatFlowService_1=__importDefault(require('../services/ChatFlowServices/DeleteChatFlowService')),store=async(c,d)=>{const p=o,q=o,{tenantId:e}=c['user'];if(c['user'][p(0x1b2)]!=='admin')throw new AppError_1[(q(0x1bb))]('ERR_NO_PERMISSION',0x193);const f={'flow':{...c[q(0x1a9)]},'name':c[p(0x1a9)][q(0x1a3)],'isActive':!![],'userId':+c['user']['id'],'tenantId':e},g=await(0x0,CreateChatFlowService_1['default'])(f);return d[p(0x1bf)](0xc8)[q(0x1a4)](g);};exports[m(0x1ac)]=store;const index=async(c,d)=>{const r=o,s=m,{tenantId:e}=c[r(0x1c0)],f=await(0x0,ListChatFlowService_1[r(0x1bb)])({'tenantId':e});return d['status'](0xc8)[r(0x1a4)](f);};exports[m(0x1b1)]=index;const update=async(c,d)=>{const t=m,u=o;if(c[t(0x1c0)][u(0x1b2)]!==t(0x1b3))throw new AppError_1[(t(0x1bb))]('ERR_NO_PERMISSION',0x193);const {tenantId:e}=c[t(0x1c0)],f={'flow':{...c['body']},'name':c[t(0x1a9)][t(0x1a3)],'isActive':c['body'][u(0x1ad)],'userId':+c['user']['id'],'tenantId':e},{chatFlowId:g}=c[u(0x1b4)],h=await(0x0,UpdateChatFlowService_1[t(0x1bb)])({'chatFlowData':f,'chatFlowId':g,'tenantId':e});return d[u(0x1bf)](0xc8)[u(0x1a4)](h);};exports[m(0x1aa)]=update;const remove=async(c,d)=>{const v=m,w=m,{chatFlowId:e}=c['params'],{tenantId:f}=c['user'];return await(0x0,DeleteChatFlowService_1[v(0x1bb)])({'id':e,'tenantId':f}),d[w(0x1bf)](0xc8)[w(0x1a4)]({'message':w(0x1ba)});};exports['remove']=remove;