'use strict';const m=b,n=b;function b(c,d){const e=a();return b=function(f,g){f=f-0x14d;let h=e[f];return h;},b(c,d);}(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=-parseInt(k(0x151))/0x1+-parseInt(k(0x15e))/0x2+parseInt(l(0x15d))/0x3*(parseInt(l(0x162))/0x4)+parseInt(k(0x156))/0x5*(-parseInt(k(0x14d))/0x6)+-parseInt(l(0x150))/0x7+-parseInt(l(0x14e))/0x8*(-parseInt(k(0x15f))/0x9)+parseInt(k(0x15c))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xa63f5));var __importDefault=this&&this[m(0x15b)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[n(0x164)]=exports['update']=exports[m(0x154)]=exports[m(0x163)]=void 0x0;const CreateChatFlowService_1=__importDefault(require(n(0x160))),ListChatFlowService_1=__importDefault(require('../services/ChatFlowServices/ListChatFlowService')),AppError_1=__importDefault(require('../errors/AppError')),UpdateChatFlowService_1=__importDefault(require(m(0x167))),DeleteChatFlowService_1=__importDefault(require(m(0x152))),store=async(c,d)=>{const o=m,p=n,{tenantId:e}=c[o(0x165)];if(c[p(0x165)]['profile']!=='admin')throw new AppError_1[(p(0x157))](p(0x159),0x193);const f={'flow':{...c[p(0x15a)]},'name':c['body']['name'],'isActive':!![],'userId':+c[p(0x165)]['id'],'tenantId':e},g=await(0x0,CreateChatFlowService_1[o(0x157)])(f);return d[p(0x153)](0xc8)[p(0x161)](g);};exports[m(0x163)]=store;const index=async(c,d)=>{const q=m,r=m,{tenantId:e}=c[q(0x165)],f=await(0x0,ListChatFlowService_1[q(0x157)])({'tenantId':e});return d[r(0x153)](0xc8)[q(0x161)](f);};exports['index']=index;function a(){const w=['6152NSCaOz','store','remove','user','params','../services/ChatFlowServices/UpdateChatFlowService','1326ReMpCB','8aJUGlw','admin','737786FGoSfH','551478KBFZZR','../services/ChatFlowServices/DeleteChatFlowService','status','index','update','26185ojQodm','default','profile','ERR_NO_PERMISSION','body','__importDefault','20405640ZqlLKe','1686qpBeJt','1132358iyyifq','1408149KPPWWo','../services/ChatFlowServices/CreateChatFlowService','json'];a=function(){return w;};return a();}const update=async(c,d)=>{const s=n,t=m;if(c[s(0x165)][t(0x158)]!==s(0x14f))throw new AppError_1[(t(0x157))](t(0x159),0x193);const {tenantId:e}=c[t(0x165)],f={'flow':{...c['body']},'name':c[t(0x15a)]['name'],'isActive':c['body']['isReactive'],'userId':+c[t(0x165)]['id'],'tenantId':e},{chatFlowId:g}=c[s(0x166)],h=await(0x0,UpdateChatFlowService_1[s(0x157)])({'chatFlowData':f,'chatFlowId':g,'tenantId':e});return d[s(0x153)](0xc8)['json'](h);};exports[n(0x155)]=update;const remove=async(c,d)=>{const u=n,v=n,{chatFlowId:e}=c[u(0x166)],{tenantId:f}=c[v(0x165)];return await(0x0,DeleteChatFlowService_1['default'])({'id':e,'tenantId':f}),d[v(0x153)](0xc8)[u(0x161)]({'message':'Flow\x20deleted'});};exports[m(0x164)]=remove;