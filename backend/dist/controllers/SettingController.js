'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0xcf;let h=e[f];return h;},b(c,d);}const m=b,o=b;function a(){const t=['__importDefault','591843grIRje','__esModule','9NgexON','admin','ERR_NO_PERMISSION','8ZYPokE',':settings','../errors/AppError','index','../services/SettingServices/ListSettingsService','getIO','body','3741210hflEET','defineProperty','3059952eWgoYO','default','user','status','update','1394019ccPJtt','23658gdNkbk','12528160csUtmU','emit','1762HqahqE','1514oKWvuG','json','195CvApld'];a=function(){return t;};return a();}(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=-parseInt(k(0xda))/0x1*(parseInt(k(0xdb))/0x2)+parseInt(l(0xcf))/0x3+-parseInt(l(0xd1))/0x4+-parseInt(k(0xdd))/0x5*(-parseInt(k(0xd7))/0x6)+-parseInt(k(0xdf))/0x7*(-parseInt(l(0xe4))/0x8)+-parseInt(k(0xe1))/0x9*(-parseInt(l(0xd8))/0xa)+parseInt(l(0xd6))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xbb0a7));var __importDefault=this&&this[m(0xde)]||function(c){const n=m;return c&&c[n(0xe0)]?c:{'default':c};};Object[m(0xd0)](exports,m(0xe0),{'value':!![]}),exports[o(0xd5)]=exports[m(0xe7)]=void 0x0;const socket_1=require('../libs/socket'),AppError_1=__importDefault(require(m(0xe6))),UpdateSettingService_1=__importDefault(require('../services/SettingServices/UpdateSettingService')),ListSettingsService_1=__importDefault(require(m(0xe8))),index=async(c,d)=>{const p=m,q=o,{tenantId:e}=c[p(0xd3)],f=await(0x0,ListSettingsService_1['default'])(e);return d[p(0xd4)](0xc8)[p(0xdc)](f);};exports['index']=index;const update=async(c,d)=>{const r=m,s=o;if(c[r(0xd3)]['profile']!==s(0xe2))throw new AppError_1[(s(0xd2))](s(0xe3),0x193);const {tenantId:e}=c[r(0xd3)],{value:f,key:g}=c[r(0xea)],h=await(0x0,UpdateSettingService_1[s(0xd2)])({'key':g,'value':f,'tenantId':e}),i=(0x0,socket_1[s(0xe9)])();return i[r(0xd9)](e+s(0xe5),{'action':s(0xd5),'setting':h}),d['status'](0xc8)['json'](h);};exports['update']=update;