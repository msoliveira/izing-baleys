'use strict';const C=b,D=b;(function(c,d){const A=b,B=b,e=c();while(!![]){try{const f=-parseInt(A(0x9f))/0x1+parseInt(B(0x97))/0x2*(parseInt(B(0x9d))/0x3)+parseInt(B(0x9a))/0x4*(-parseInt(B(0x91))/0x5)+parseInt(B(0x93))/0x6+-parseInt(B(0xa1))/0x7+parseInt(A(0xa3))/0x8*(-parseInt(B(0x9c))/0x9)+parseInt(A(0x95))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x3ec96));var __importDefault=this&&this[C(0xa2)]||function(c){return c&&c['__esModule']?c:{'default':c};};function b(c,d){const e=a();return b=function(f,g){f=f-0x91;let h=e[f];return h;},b(c,d);}Object[C(0x9e)](exports,'__esModule',{'value':!![]});const jsonwebtoken_1=require('jsonwebtoken'),AppError_1=__importDefault(require(D(0x94))),auth_1=__importDefault(require('../config/auth')),isAuth=(c,d,e)=>{const E=C,F=C,f=c[E(0x92)]['authorization'];if(!f)throw new AppError_1[(E(0x96))]('Token\x20was\x20not\x20provided.',0x193);const [,g]=f[E(0xa0)]('\x20');try{const h=(0x0,jsonwebtoken_1[E(0x9b)])(g,auth_1['default'][E(0x98)]),{id:i,profile:j,tenantId:k}=h;c['user']={'id':i,'profile':j,'tenantId':k};}catch(l){if(F(0xa4)===E(0xa4))throw new AppError_1[(E(0x96))]('Invalid\x20token.',0x193);else return g&&h[E(0x99)]?i:{'default':j};}return e();};exports[C(0x96)]=isAuth;function a(){const G=['2712rjVQDQ','verify','65808nDOzkd','726xNKOPb','defineProperty','506537BQISaD','split','3558058EfZQQn','__importDefault','96svzHNu','zJsCg','2000pIijhJ','headers','799092scaDBL','../errors/AppError','10967730uKUFtO','default','3314dGjAeg','secret','__esModule'];a=function(){return G;};return a();}