'use strict';const K=b,L=b;(function(c,d){const I=b,J=b,e=c();while(!![]){try{const f=parseInt(I(0x9e))/0x1*(-parseInt(J(0x85))/0x2)+-parseInt(J(0xad))/0x3+parseInt(J(0x77))/0x4*(parseInt(I(0x99))/0x5)+parseInt(J(0x84))/0x6*(-parseInt(J(0xa7))/0x7)+-parseInt(I(0x7f))/0x8+parseInt(I(0x7c))/0x9*(parseInt(J(0x79))/0xa)+-parseInt(J(0x83))/0xb*(-parseInt(J(0x87))/0xc);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x952df));function b(c,d){const e=a();return b=function(f,g){f=f-0x76;let h=e[f];return h;},b(c,d);}var __importDefault=this&&this[K(0x89)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[K(0x7d)]=exports[L(0x9a)]=exports['initInstaBot']=void 0x0;const instagram_private_api_1=require(K(0xaa)),instagram_mqtt_1=require(L(0x93)),AppError_1=__importDefault(require(L(0x78))),logger_1=require(L(0x9c)),sessions=[],initInstaBot=async c=>{const M=L,N=L;try{let d,e;const f='@'+c['instagramUser'],g=c[M(0xa3)];if(!f||!g)throw new Error(N(0xa4));c&&c['session']&&(d=JSON[M(0xa8)](c['session']));const h=(0x0,instagram_mqtt_1[N(0xab)])(new instagram_private_api_1[(N(0x98))]());h['id']=c['id'],h[N(0xac)][N(0x91)](f);if(c[N(0x76)]){if('bWKRL'===N(0x7e))try{const k=s[M(0x97)](H=>H['id']===z['id']);k!==-0x1&&(z[k][M(0xa9)][N(0xa6)](),A[k][M(0x7b)][N(0x88)](),B[k][M(0x81)][M(0x88)](),C[N(0x8a)](k,0x1)),y[N(0x90)]({'session':''});}catch(l){E['logger'][N(0x8c)](M(0xa5)+l);}else{const {accountLogin:k}=h;await h[M(0x8e)](JSON['parse'](c['session'])),h[M(0x95)]=k;}}else e=await h[M(0xa9)][N(0x86)](f,g),h[M(0x95)]=e,process[M(0x94)](async()=>{const O=N;await h[O(0x7a)]['postLoginFlow']();}),d=await h[N(0x82)](),await c[N(0x90)]({'session':d});await h[N(0x7b)][M(0x96)]({'irisData':await h[N(0xa2)][M(0x9d)]()[M(0x8f)]()}),await h[N(0x81)]['connect']({'autoReconnect':!![]});const i=sessions[M(0x97)](l=>l['id']===c['id']);return i===-0x1?(h['id']=c['id'],!h[N(0x95)]&&(h[M(0x95)]=await h[N(0xa9)][N(0xa1)]()),sessions[N(0x9f)](h)):(h['id']=c['id'],!h[M(0x95)]&&(M(0x92)!==M(0x92)?e['logger'][M(0x8c)](M(0xa5)+f):h[N(0x95)]=await h[M(0xa9)][M(0xa1)]()),sessions[i]=h),h;}catch(m){logger_1[N(0x9b)][N(0x8c)]('initWbot\x20error\x20|\x20Error:\x20'+m);throw new AppError_1[(N(0x8b))](''+m,0x194);}};exports[K(0x80)]=initInstaBot;const getInstaBot=c=>{const d=sessions['findIndex'](e=>e['id']===c);return sessions[d];};exports['getInstaBot']=getInstaBot;function a(){const R=['directInbox','307nivsOi','push','rsYrv','currentUser','feed','instagramKey','Not\x20credentials','removeWbot\x20|\x20Error:\x20','logout','7pzUfsW','parse','account','instagram-private-api','withFbnsAndRealtime','state','2977257BvtPql','session','4vGCLMy','../errors/AppError','10QmPCcs','simulate','realtime','5954364vCKQwo','removeInstaBot','cvYPP','3323296KiQsmY','initInstaBot','fbns','exportState','33HlrZiH','5241402MHdqgV','2754nGDVLV','login','9356964INcvvP','disconnect','__importDefault','splice','default','error','tCzeg','importState','request','update','generateDevice','iCKwL','instagram_mqtt','nextTick','accountLogin','connect','findIndex','IgApiClient','1571695YaBjfB','getInstaBot','logger','../utils/logger'];a=function(){return R;};return a();}const removeInstaBot=c=>{const P=L,Q=K;try{const d=sessions[P(0x97)](e=>e['id']===c['id']);d!==-0x1&&(sessions[d][P(0xa9)][Q(0xa6)](),sessions[d][Q(0x7b)]['disconnect'](),sessions[d][P(0x81)][P(0x88)](),sessions[Q(0x8a)](d,0x1)),c['update']({'session':''});}catch(e){if(Q(0xa0)!==Q(0x8d))logger_1[P(0x9b)][P(0x8c)]('removeWbot\x20|\x20Error:\x20'+e);else{const g=j[Q(0x97)](w=>w['id']===q['id']);g!==-0x1&&(q[g][Q(0xa9)][P(0xa6)](),r[g][P(0x7b)][Q(0x88)](),s[g][Q(0x81)][Q(0x88)](),t['splice'](g,0x1)),p[Q(0x90)]({'session':''});}}};exports['removeInstaBot']=removeInstaBot;