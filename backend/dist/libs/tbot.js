'use strict';const X=b,Y=b;(function(c,d){const V=b,W=b,e=c();while(!![]){try{const f=-parseInt(V(0xe9))/0x1+-parseInt(V(0xeb))/0x2+parseInt(W(0xe2))/0x3*(-parseInt(V(0xe1))/0x4)+-parseInt(W(0xda))/0x5+parseInt(V(0xea))/0x6+parseInt(W(0xef))/0x7*(parseInt(W(0xf5))/0x8)+parseInt(V(0xd9))/0x9;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x9a698));function b(c,d){const e=a();return b=function(f,g){f=f-0xd6;let h=e[f];return h;},b(c,d);}Object[X(0xfb)](exports,Y(0xe5),{'value':!![]}),exports[X(0xed)]=exports[Y(0xe0)]=exports[Y(0xe4)]=void 0x0;const telegraf_1=require(X(0xf2)),socket_1=require(Y(0xfa)),logger_1=require(Y(0xfd)),TelegramSessions=[],initTbot=async c=>{return new Promise((d,e)=>{const Z=b,a0=b;if('rTJOF'!==Z(0xe8)){i[a0(0xf1)][Z(0xdc)](a0(0xd7)+j+a0(0xdf)+k);const g=l[a0(0xd6)](q=>q['id']===g);return n[g];}else try{const g=(0x0,socket_1[Z(0xf6)])(),h=c['name'],{tenantId:i}=c,j=new telegraf_1[(Z(0xf4))](c['tokenTelegram'],{});j['id']=c['id'];const k=TelegramSessions[a0(0xd6)](l=>l['id']===c['id']);k===-0x1?(j['id']=c['id'],TelegramSessions['push'](j)):(j['id']=c['id'],TelegramSessions[k]=j),j[Z(0xf0)](),c[Z(0xdb)]({'status':'CONNECTED','qrcode':'','retries':0x0}),g['emit'](i+':whatsappSession',{'action':Z(0xdb),'session':c}),logger_1[Z(0xf1)][Z(0xdc)]('Session\x20TELEGRAM:\x20'+h+'\x20-\x20READY\x20'),process[a0(0xf8)](a0(0xe7),()=>j[Z(0xf3)]('SIGINT')),process[Z(0xf8)](Z(0xd8),()=>j['stop'](Z(0xd8))),d(j);}catch(l){c[Z(0xdb)]({'status':a0(0xf7),'qrcode':'','retries':0x0}),logger_1[Z(0xf1)][a0(0xdd)](Z(0xec)+l),e(new Error(Z(0xee)));}});};exports[Y(0xe4)]=initTbot;function a(){const a5=['info','error','push','\x20|\x20checkState:\x20','getTbot','3591620rKAjhl','3GGwFhb','splice','initTbot','__esModule','WvuNH','SIGINT','rTJOF','819346GuXTIA','6558936TSrQkW','1421354gGWQgr','initWbot\x20error\x20|\x20Error:\x20','removeTbot','Error\x20starting\x20telegram\x20session.','6192718MVNfaA','launch','logger','telegraf','stop','Telegraf','8bKqZUp','getIO','DISCONNECTED','once','removeTbot\x20|\x20Error:\x20','./socket','defineProperty','oHUPN','../utils/logger','findIndex','whatsappId:\x20','SIGTERM','17783019WEntmv','4466605mqZyNa','update'];a=function(){return a5;};return a();}const getTbot=(c,d=!![])=>{const a1=Y,a2=Y;logger_1[a1(0xf1)][a1(0xdc)](a2(0xd7)+c+a2(0xdf)+d);const e=TelegramSessions['findIndex'](f=>f['id']===c);return TelegramSessions[e];};exports[X(0xe0)]=getTbot;const removeTbot=c=>{const a3=X,a4=Y;try{if('WvuNH'!==a3(0xe6))e[a4(0xf1)][a3(0xdd)](a4(0xf9)+f);else{const e=TelegramSessions[a3(0xd6)](g=>g['id']===c),f=TelegramSessions[e];e!==-0x1&&(a3(0xfc)!=='oHUPN'?(g['id']=h['id'],i[a4(0xde)](j)):(process['once'](a4(0xe7),()=>f[a4(0xf3)](a3(0xe7))),process['once'](a4(0xd8),()=>f[a3(0xf3)](a3(0xd8))),TelegramSessions[a4(0xe3)](e,0x1)));}}catch(h){logger_1[a3(0xf1)][a3(0xdd)](a3(0xf9)+h);}};exports[X(0xed)]=removeTbot;