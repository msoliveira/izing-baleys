'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x1c4;let h=e[f];return h;},b(c,d);}const m=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x1c5))/0x1*(parseInt(k(0x1c7))/0x2)+-parseInt(l(0x1cc))/0x3*(-parseInt(k(0x1db))/0x4)+parseInt(l(0x1d0))/0x5*(-parseInt(k(0x1d4))/0x6)+-parseInt(k(0x1cd))/0x7+-parseInt(k(0x1d7))/0x8*(parseInt(l(0x1c9))/0x9)+parseInt(l(0x1d1))/0xa+parseInt(l(0x1da))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x35951));var __importDefault=this&&this[m(0x1d9)]||function(c){const n=m;return c&&c[n(0x1cf)]?c:{'default':c};};Object[o(0x1ca)](exports,m(0x1cf),{'value':!![]});const Contact_1=__importDefault(require('../models/Contact')),ShowStepAutoReplyMessageService_1=__importDefault(require(o(0x1d6))),CreateLogTicketService_1=__importDefault(require(o(0x1c8))),AutoReplyWelcome=async c=>{const p=o,q=m;if(c['userId']||c[p(0x1c6)])return;const d=await(0x0,ShowStepAutoReplyMessageService_1[p(0x1d8)])(0x0,0x0,0x0,!![],c[q(0x1d5)]);if(!d)return;const e=await Contact_1[q(0x1d8)]['findByPk'](c[q(0x1d3)]),{celularTeste:f}=d[p(0x1d2)],g=e?.['number'];if(f&&g?.['indexOf'](f['substr'](0x1))===-0x1||!g){if(c[q(0x1cb)]!==p(0x1ce))return;}await c['update']({'autoReplyId':d[q(0x1d2)]['id'],'stepAutoReplyId':d['id']}),await(0x0,CreateLogTicketService_1[q(0x1d8)])({'ticketId':c['id'],'type':q(0x1c4)});};function a(){const r=['55QAIjSE','2122560AVuoSf','autoReply','contactId','219546mgQjRw','tenantId','../services/AutoReplyServices/ShowStepAutoReplyMessageService','248VooryQ','default','__importDefault','3414884ugIYWR','1196AeiLxm','chatBot','2606daAnCY','isGroup','246pRutQN','../services/TicketServices/CreateLogTicketService','63621FSHEDe','defineProperty','channel','4155RbUytY','2913680RyWqgn','telegram','__esModule'];a=function(){return r;};return a();}exports[o(0x1d8)]=AutoReplyWelcome;