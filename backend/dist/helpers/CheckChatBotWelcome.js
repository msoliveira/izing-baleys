'use strict';function a(){const r=['99TrqzKS','../services/TicketServices/CreateLogTicketService','14EfCUFr','147sfxCpt','170yLGivO','findByPk','autoReply','../services/AutoReplyServices/ShowStepAutoReplyMessageService','1121791TgliCn','default','substr','defineProperty','8804XfVHNC','chatBot','260090POBEHv','66552qFaXsd','__importDefault','245580GIEUxA','__esModule','number','1049526dnvcCA','isGroup','update','contactId','87231ipUiIb'];a=function(){return r;};return a();}const m=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=-parseInt(k(0x185))/0x1+parseInt(k(0x192))/0x2*(parseInt(k(0x18f))/0x3)+-parseInt(k(0x19c))/0x4*(-parseInt(k(0x194))/0x5)+-parseInt(l(0x18b))/0x6+parseInt(k(0x193))/0x7*(parseInt(k(0x186))/0x8)+parseInt(l(0x190))/0x9*(parseInt(l(0x188))/0xa)+-parseInt(k(0x198))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x2d76a));var __importDefault=this&&this[m(0x187)]||function(c){const n=m;return c&&c[n(0x189)]?c:{'default':c};};Object[o(0x19b)](exports,o(0x189),{'value':!![]});function b(c,d){const e=a();return b=function(f,g){f=f-0x184;let h=e[f];return h;},b(c,d);}const Contact_1=__importDefault(require('../models/Contact')),ShowStepAutoReplyMessageService_1=__importDefault(require(o(0x197))),CreateLogTicketService_1=__importDefault(require(o(0x191))),AutoReplyWelcome=async c=>{const p=m,q=m;if(c['userId']||c[p(0x18c)])return;const d=await(0x0,ShowStepAutoReplyMessageService_1[q(0x199)])(0x0,0x0,0x0,!![],c['tenantId']);if(!d)return;const e=await Contact_1[q(0x199)][p(0x195)](c[q(0x18e)]),{celularTeste:f}=d[q(0x196)],g=e?.[p(0x18a)];if(f&&g?.['indexOf'](f[q(0x19a)](0x1))===-0x1||!g){if(c['channel']!=='telegram')return;}await c[p(0x18d)]({'autoReplyId':d[p(0x196)]['id'],'stepAutoReplyId':d['id']}),await(0x0,CreateLogTicketService_1[q(0x199)])({'ticketId':c['id'],'type':p(0x184)});};exports[o(0x199)]=AutoReplyWelcome;