'use strict';function a(){const a3=['cors','queues','</a>','/admin/queues','8047288EebVkS','reflect-metadata','process','7AsaGKP','json','cookie-parser','Backend\x20est√°\x20funcionando\x20corretamente.\x20Acesse\x20o\x20frontend:\x20<a\x20href=\x22','Rabbit\x20started\x20Whatsapp','status','info','./libs/rabbitmq-server','contentSecurityPolicy','2525010NnmEon','2766354mLIbjH','BullAdapter','rabbit','\x27none\x27','AMQP_URL','./services/WABA360/Consumer360','bull','https:','defineProperty','static','use','statusCode','helmet','express','/public','default','./libs/Queue','64MB','2349630DniYjf','message','urlencoded','express-async-errors','\x27self\x27','Rabbit\x20started','env','FRONTEND_URL','./errors/AppError','39758hOXjqu','bull-board','./services/MessengerChannelServices/MessengerConsumer','29xgwwcF','get','3182220llLlZL','__esModule','__importDefault','data:','logger','1825560NZLsIA','directory','router','localhost:\x203003','error','start','send','./utils/logger'];a=function(){return a3;};return a();}const S=b,U=b;(function(c,d){const Q=b,R=b,e=c();while(!![]){try{const f=parseInt(Q(0x123))/0x1*(-parseInt(R(0x15e))/0x2)+parseInt(Q(0x12a))/0x3+parseInt(R(0x125))/0x4+parseInt(R(0x142))/0x5+parseInt(Q(0x143))/0x6+-parseInt(Q(0x139))/0x7*(parseInt(Q(0x136))/0x8)+-parseInt(R(0x155))/0x9;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x80948));var __importDefault=this&&this[S(0x127)]||function(c){const T=S;return c&&c[T(0x126)]?c:{'default':c};};Object[U(0x14b)](exports,U(0x126),{'value':!![]}),require('./bootstrap'),require(S(0x137)),require(U(0x158));const express_1=__importDefault(require(S(0x150))),cors_1=__importDefault(require(S(0x132))),cookie_parser_1=__importDefault(require(U(0x13b))),helmet_1=__importDefault(require(U(0x14f))),bull_board_1=require(S(0x15f));require('./database');function b(c,d){const e=a();return b=function(f,g){f=f-0x122;let h=e[f];return h;},b(c,d);}const process_1=__importDefault(require('process')),upload_1=__importDefault(require('./config/upload')),AppError_1=__importDefault(require(S(0x15d))),routes_1=__importDefault(require('./routes')),logger_1=require(S(0x131)),Queue_1=__importDefault(require(U(0x153))),rabbitmq_server_1=__importDefault(require(S(0x140))),Consumer360_1=__importDefault(require(U(0x148))),MessengerConsumer_1=__importDefault(require(S(0x122))),app=(0x0,express_1[U(0x152)])();app[U(0x14d)]((0x0,helmet_1[S(0x152)])()),app['use'](helmet_1[S(0x152)][U(0x141)]({'directives':{'default-src':[U(0x159)],'base-uri':[U(0x159)],'block-all-mixed-content':[],'font-src':['\x27self\x27',U(0x14a),S(0x128)],'img-src':[U(0x159),S(0x128)],'object-src':['\x27none\x27'],'script-src-attr':[U(0x146)],'style-src':[S(0x159),U(0x14a),'\x27unsafe-inline\x27'],'upgrade-insecure-requests':[],'scriptSrc':['\x27self\x27','*'+(process_1[U(0x152)][S(0x15b)][S(0x15c)]||S(0x12d))],'frameAncestors':[S(0x159),'*\x20'+(process_1[S(0x152)]['env']['FRONTEND_URL']||S(0x12d))]}})),Queue_1[S(0x152)][U(0x138)](),(0x0,bull_board_1['setQueues'])(Queue_1['default'][U(0x133)]['map'](c=>new bull_board_1[(S(0x144))](c[S(0x149)])));process_1[S(0x152)][S(0x15b)]['AMQP_URL']&&(((async()=>{const V=U,W=S,c=new rabbitmq_server_1['default'](process_1[V(0x152)][W(0x15b)]['AMQP_URL']||'');await c[V(0x12f)](),logger_1[W(0x129)][V(0x13f)](V(0x15a),process_1['default'][W(0x15b)]['AMQP_URL']),app[V(0x145)]=c;})()),((async()=>{const X=U,Y=S,c=new rabbitmq_server_1[(X(0x152))](process_1[X(0x152)][X(0x15b)][X(0x147)]||'');await c[Y(0x12f)](),logger_1[Y(0x129)][X(0x13f)](Y(0x13d),process_1[X(0x152)][Y(0x15b)][X(0x147)]),global['rabbitWhatsapp']=c;})()),(0x0,Consumer360_1[S(0x152)])(),(0x0,MessengerConsumer_1[S(0x152)])());app[U(0x14d)](S(0x135),bull_board_1[S(0x12c)]),app[S(0x14d)]((0x0,cors_1['default'])()),app[S(0x124)]('/',(c,d)=>{const Z=U,a0=U;d[Z(0x130)](a0(0x13c)+process_1[a0(0x152)][Z(0x15b)][Z(0x15c)]+'\x22>'+process_1[a0(0x152)][a0(0x15b)][Z(0x15c)]+Z(0x134));}),app[S(0x14d)]((0x0,cookie_parser_1['default'])()),app[U(0x14d)](express_1[U(0x152)][S(0x13a)]({'limit':S(0x154)})),app['use'](express_1['default'][S(0x157)]({'extended':!![],'limit':S(0x154)})),app[U(0x14d)](U(0x151),express_1[S(0x152)][S(0x14c)](upload_1[U(0x152)][U(0x12b)])),app[S(0x14d)](routes_1['default']),app[S(0x14d)](async(c,d,e,f)=>{const a1=U,a2=S;if(c instanceof AppError_1[a1(0x152)])return c[a2(0x14e)]===0x193?logger_1['logger']['warn'](c):logger_1[a1(0x129)][a2(0x12e)](c),e[a1(0x13e)](c[a2(0x14e)])['json']({'error':c[a1(0x156)]});return logger_1[a2(0x129)][a1(0x12e)](c),e[a2(0x13e)](0x1f4)['json']({'error':'Internal\x20server\x20error:\x20'+c});}),exports[S(0x152)]=app;