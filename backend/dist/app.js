'use strict';const S=b,T=b;(function(c,d){const Q=b,R=b,e=c();while(!![]){try{const f=parseInt(Q(0x1c9))/0x1+-parseInt(R(0x1ae))/0x2*(-parseInt(Q(0x1b1))/0x3)+parseInt(Q(0x1bf))/0x4*(parseInt(R(0x1a1))/0x5)+-parseInt(Q(0x1d0))/0x6*(-parseInt(R(0x1b6))/0x7)+-parseInt(Q(0x1c4))/0x8*(parseInt(Q(0x1d4))/0x9)+-parseInt(Q(0x1c8))/0xa+-parseInt(R(0x1a8))/0xb*(parseInt(R(0x1d8))/0xc);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xa786f));var __importDefault=this&&this['__importDefault']||function(c){return c&&c['__esModule']?c:{'default':c};};Object[S(0x1a2)](exports,'__esModule',{'value':!![]}),require(T(0x1d1)),require(S(0x1d7)),require(T(0x1c7));const express_1=__importDefault(require(T(0x1aa))),cors_1=__importDefault(require(T(0x1a7))),cookie_parser_1=__importDefault(require('cookie-parser')),helmet_1=__importDefault(require(T(0x1dc))),bull_board_1=require(T(0x1bd));require(T(0x1a5));function b(c,d){const e=a();return b=function(f,g){f=f-0x19d;let h=e[f];return h;},b(c,d);}const process_1=__importDefault(require(S(0x1a4))),upload_1=__importDefault(require('./config/upload')),AppError_1=__importDefault(require(S(0x1cc))),routes_1=__importDefault(require('./routes')),logger_1=require(S(0x1af)),Queue_1=__importDefault(require(T(0x1cf))),rabbitmq_server_1=__importDefault(require('./libs/rabbitmq-server')),Consumer360_1=__importDefault(require(T(0x1a3))),MessengerConsumer_1=__importDefault(require('./services/MessengerChannelServices/MessengerConsumer')),app=(0x0,express_1[T(0x1d9)])();app[S(0x1bc)]((0x0,helmet_1['default'])()),app[T(0x1bc)](helmet_1[S(0x1d9)]['contentSecurityPolicy']({'directives':{'default-src':[S(0x1cb)],'base-uri':[S(0x1cb)],'block-all-mixed-content':[],'font-src':[S(0x1cb),S(0x1cd),'data:'],'img-src':['\x27self\x27',T(0x1ab)],'object-src':['\x27none\x27'],'script-src-attr':['\x27none\x27'],'style-src':[T(0x1cb),T(0x1cd),S(0x1ba)],'upgrade-insecure-requests':[],'scriptSrc':[S(0x1cb),'*'+(process_1[T(0x1d9)][S(0x1c1)][T(0x1ac)]||T(0x1d2))],'frameAncestors':[T(0x1cb),'*\x20'+(process_1[T(0x1d9)][T(0x1c1)]['FRONTEND_URL']||T(0x1d2))]}})),Queue_1[S(0x1d9)][S(0x1a4)](),(0x0,bull_board_1[S(0x1d5)])(Queue_1[T(0x1d9)][T(0x1c5)][T(0x1b5)](c=>new bull_board_1[(T(0x1a9))](c[T(0x1ad)])));process_1[T(0x1d9)]['env'][T(0x1c0)]&&(((async()=>{const U=S,V=T,c=new rabbitmq_server_1[(U(0x1d9))](process_1[V(0x1d9)][V(0x1c1)][U(0x1c0)]||'');await c[U(0x1be)](),logger_1['logger'][U(0x1b2)](V(0x1da),process_1[U(0x1d9)][V(0x1c1)][V(0x1c0)]),app['rabbit']=c;})()),((async()=>{const W=S,X=S,c=new rabbitmq_server_1[(W(0x1d9))](process_1['default'][X(0x1c1)][W(0x1c0)]||'');await c[W(0x1be)](),logger_1[W(0x1c2)][W(0x1b2)](W(0x19f),process_1[X(0x1d9)]['env'][W(0x1c0)]),global[X(0x1b3)]=c;})()),(0x0,Consumer360_1[T(0x1d9)])(),(0x0,MessengerConsumer_1[T(0x1d9)])());function a(){const a2=['queues','json','express-async-errors','8482260fwNEZx','1305585MgFWuI','warn','\x27self\x27','./errors/AppError','https:','directory','./libs/Queue','6311046aRXnQw','./bootstrap','localhost:\x203003','/public','42291JwlhLY','setQueues','router','reflect-metadata','149484OYGNub','default','Rabbit\x20started','Backend\x20est√°\x20funcionando\x20corretamente.\x20Acesse\x20o\x20frontend:\x20<a\x20href=\x22','helmet','error','get','Rabbit\x20started\x20Whatsapp','PZUSH','10CvUosK','defineProperty','./services/WABA360/Consumer360','process','./database','Internal\x20server\x20error:\x20','cors','1034jHChdf','BullAdapter','express','data:','FRONTEND_URL','bull','2nXHKXM','./utils/logger','message','798036XStKEF','info','rabbitWhatsapp','static','map','7pKwFeR','statusCode','/admin/queues','64MB','\x27unsafe-inline\x27','oBqfG','use','bull-board','start','643172IRCtJw','AMQP_URL','env','logger','status','408JIJDcQ'];a=function(){return a2;};return a();}app[T(0x1bc)](T(0x1b8),bull_board_1[S(0x1d6)]),app[T(0x1bc)]((0x0,cors_1['default'])()),app[T(0x19e)]('/',(c,d)=>{const Y=T,Z=T;d['send'](Y(0x1db)+process_1['default']['env'][Y(0x1ac)]+'\x22>'+process_1[Y(0x1d9)][Y(0x1c1)][Y(0x1ac)]+'</a>');}),app[T(0x1bc)]((0x0,cookie_parser_1[S(0x1d9)])()),app[T(0x1bc)](express_1[T(0x1d9)]['json']({'limit':T(0x1b9)})),app[T(0x1bc)](express_1['default']['urlencoded']({'extended':!![],'limit':'64MB'})),app[T(0x1bc)](T(0x1d3),express_1[T(0x1d9)][S(0x1b4)](upload_1['default'][T(0x1ce)])),app[T(0x1bc)](routes_1['default']),app[T(0x1bc)](async(c,d,e,f)=>{const a0=S,a1=S;if(c instanceof AppError_1[a0(0x1d9)]){if(c[a1(0x1b7)]===0x193)'PZUSH'!==a1(0x1a0)?e[a0(0x1c2)][a1(0x19d)](f):logger_1[a1(0x1c2)][a1(0x1ca)](c);else{if(a1(0x1bb)!==a1(0x1bb)){if(q instanceof r[a0(0x1d9)])return E[a0(0x1b7)]===0x193?M[a1(0x1c2)][a0(0x1ca)](N):O[a0(0x1c2)][a1(0x19d)](P),J[a1(0x1c3)](K[a1(0x1b7)])[a0(0x1c6)]({'error':L['message']});return A[a0(0x1c2)][a1(0x19d)](B),C[a0(0x1c3)](0x1f4)[a1(0x1c6)]({'error':a1(0x1a6)+D});}else logger_1[a0(0x1c2)]['error'](c);}return e[a1(0x1c3)](c[a1(0x1b7)])[a0(0x1c6)]({'error':c[a0(0x1b0)]});}return logger_1[a0(0x1c2)][a0(0x19d)](c),e['status'](0x1f4)[a1(0x1c6)]({'error':a0(0x1a6)+c});}),exports[T(0x1d9)]=app;